{"config":{"lang":["ja"],"separator":"[\\s\\-\\.]","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u30db\u30fc\u30e0","text":"<p>\u6c4e\u7528\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u7f6e\u304d\u5834\u3078\u3088\u3046\u3053\u305d\u3002</p> <p>\u3053\u306e\u30b5\u30a4\u30c8\u3067\u306f\u3001\u6280\u8853\u8a2d\u8a08\u3084\u5b9f\u88c5\u306b\u95a2\u3059\u308b\u5404\u7a2e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002</p>"},{"location":"#_2","title":"\ud83d\udcd6 \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306b\u3064\u3044\u3066","text":"<p>\u3053\u306e\u30b5\u30a4\u30c8\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306f\u4ee5\u4e0b\u306e\u65b9\u91dd\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ul> <li>\u6700\u65b0\u6027: 2025\u5e74\u306e\u6700\u65b0\u52d5\u5411\u3092\u53cd\u6620</li> <li>\u5b9f\u8df5\u6027: \u5b9f\u88c5\u306b\u76f4\u7d50\u3059\u308b\u5177\u4f53\u7684\u306a\u60c5\u5831\u3092\u63d0\u4f9b</li> <li>\u5305\u62ec\u6027: \u57fa\u790e\u304b\u3089\u5fdc\u7528\u307e\u3067\u4f53\u7cfb\u7684\u306b\u5b66\u7fd2\u53ef\u80fd</li> </ul>"},{"location":"#_3","title":"\ud83d\udd27 \u6280\u8853\u30b9\u30bf\u30c3\u30af","text":"<p>\u3053\u306e\u30b5\u30a4\u30c8\u306f\u4ee5\u4e0b\u306e\u6280\u8853\u3067\u69cb\u7bc9\u3055\u308c\u3066\u3044\u307e\u3059:</p> <ul> <li>MkDocs - \u9759\u7684\u30b5\u30a4\u30c8\u30b8\u30a7\u30cd\u30ec\u30fc\u30bf\u30fc</li> <li>Material for MkDocs - \u30c6\u30fc\u30de</li> <li>GitHub Pages - \u30db\u30b9\u30c6\u30a3\u30f3\u30b0</li> </ul>"},{"location":"auth/basics/","title":"\u8a8d\u8a3c\u30fb\u8a8d\u53ef\u306e\u57fa\u790e\u77e5\u8b58","text":"<p>\ud83c\udfaf \u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684 \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u306e\u57fa\u672c\u6982\u5ff5\u304b\u3089\u3001OAuth 2.0/OpenID Connect\u306e\u4ed5\u7d44\u307f\u307e\u3067\u3001\u4f53\u7cfb\u7684\u306b\u7406\u89e3\u3067\u304d\u307e\u3059\u3002\u5b9f\u88c5\u306b\u5fc5\u8981\u306a\u672c\u8cea\u7684\u306a\u77e5\u8b58\u306b\u7d5e\u308a\u3001\u7c21\u6f54\u306b\u89e3\u8aac\u3057\u307e\u3059\u3002</p>"},{"location":"auth/basics/#_2","title":"\ud83d\udcda \u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","text":"<ul> <li>\u524d\u63d0\u77e5\u8b58: Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u57fa\u790e - \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30fb\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u9055\u3044\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u30d1\u30bf\u30fc\u30f3</li> <li>\u6b21\u306e\u30b9\u30c6\u30c3\u30d7: \u5b9f\u88c5\u30ac\u30a4\u30c9 - Next.js + Spring Boot + Cognito \u3067\u306e\u5b9f\u88c5</li> </ul>"},{"location":"auth/basics/#_3","title":"\u8a8d\u8a3c\u3068\u8a8d\u53ef","text":"\u8a8d\u8a3c(Authentication) - \u300c\u8ab0\u304b\u300d\u3092\u78ba\u8a8d <p>\u300c\u3042\u306a\u305f\u306f\u8ab0\u3067\u3059\u304b?\u300d \u3068\u3044\u3046\u554f\u3044\u306b\u7b54\u3048\u308b\u30d7\u30ed\u30bb\u30b9\u3002</p> <ul> <li>\u4f8b: \u30ed\u30b0\u30a4\u30f3\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b</li> <li>HTTP \u30b9\u30c6\u30fc\u30bf\u30b9: <code>401 Unauthorized</code></li> </ul> \u8a8d\u53ef(Authorization) - \u300c\u4f55\u304c\u3067\u304d\u308b\u304b\u300d\u3092\u78ba\u8a8d <p>\u300c\u3042\u306a\u305f\u306f\u4f55\u304c\u3067\u304d\u307e\u3059\u304b?\u300d \u3068\u3044\u3046\u554f\u3044\u306b\u7b54\u3048\u308b\u30d7\u30ed\u30bb\u30b9\u3002</p> <ul> <li>\u4f8b: \u7ba1\u7406\u8005\u753b\u9762\u3078\u306e\u30a2\u30af\u30bb\u30b9\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u7de8\u96c6\u6a29\u9650</li> <li>HTTP \u30b9\u30c6\u30fc\u30bf\u30b9: <code>403 Forbidden</code></li> </ul> \u5b9f\u969b\u306e\u6d41\u308c"},{"location":"auth/basics/#authentication","title":"\u8a8d\u8a3c(Authentication)\u306e\u6d41\u308c","text":"<p>\u30e6\u30fc\u30b6\u30fc\u304c\u30ed\u30b0\u30a4\u30f3\u753b\u9762\u3067ID\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u305d\u306e\u60c5\u5831\u304c\u6b63\u3057\u3044\u304b\u3092\u78ba\u8a8d\u3057\u3001\u6b63\u3057\u3051\u308c\u3070\u8a8d\u8a3c\u6210\u529f\u3001\u9593\u9055\u3063\u3066\u3044\u308c\u3070<code>401 Unauthorized</code>\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>sequenceDiagram\n    participant User as \u30e6\u30fc\u30b6\u30fc\n    participant App as \u30a2\u30d7\u30ea\n\n    User-&gt;&gt;App: \u30ed\u30b0\u30a4\u30f3(ID/\u30d1\u30b9\u30ef\u30fc\u30c9)\n    alt \u8a8d\u8a3c\u6210\u529f\n        App-&gt;&gt;User: \u2705 \u8a8d\u8a3c\u6210\u529f&lt;br/&gt;(\u30db\u30fc\u30e0\u753b\u9762\u3078\u9077\u79fb\u7b49\u306e\u51e6\u7406)\n    else \u8a8d\u8a3c\u5931\u6557\n        App-&gt;&gt;User: \u274c 401 Unauthorized&lt;br/&gt;(ID/\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u9593\u9055\u3063\u3066\u3044\u308b)\n    end</code></pre>"},{"location":"auth/basics/#authorization","title":"\u8a8d\u53ef(Authorization)\u306e\u6d41\u308c","text":"<p>\u8a8d\u8a3c\u5f8c\u3001\u30e6\u30fc\u30b6\u30fc\u304c\u7279\u5b9a\u306e\u30ea\u30bd\u30fc\u30b9\uff08\u30c7\u30fc\u30bf\u3084\u6a5f\u80fd\uff09\u306b\u30a2\u30af\u30bb\u30b9\u3057\u3088\u3046\u3068\u3057\u307e\u3059\u3002\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306f\u305d\u306e\u30e6\u30fc\u30b6\u30fc\u306b\u6a29\u9650\u304c\u3042\u308b\u304b\u3092\u30c1\u30a7\u30c3\u30af\u3057\u3001\u6a29\u9650\u304c\u3042\u308c\u3070\u30c7\u30fc\u30bf\u3092\u8868\u793a\u3001\u306a\u3051\u308c\u3070<code>403 Forbidden</code>\u30a8\u30e9\u30fc\u3092\u8fd4\u3057\u307e\u3059\u3002</p> <pre><code>sequenceDiagram\n    participant User as \u30e6\u30fc\u30b6\u30fc\n    participant App as \u30a2\u30d7\u30ea\n\n    User-&gt;&gt;App: \u30ea\u30bd\u30fc\u30b9\u306b\u30a2\u30af\u30bb\u30b9\n    App-&gt;&gt;App: \u6a29\u9650\u30c1\u30a7\u30c3\u30af(\u8a8d\u53ef)\n    alt \u6a29\u9650\u3042\u308a\n        App-&gt;&gt;User: \u2705 \u30c7\u30fc\u30bf\u8868\u793a&lt;br/&gt;(\u6a29\u9650\u304c\u3042\u308b)\n    else \u6a29\u9650\u306a\u3057\n        App-&gt;&gt;User: \u274c 403 Forbidden&lt;br/&gt;(\u6a29\u9650\u304c\u306a\u3044)\n    end</code></pre>"},{"location":"auth/basics/#vs","title":"\u30bb\u30c3\u30b7\u30e7\u30f3 vs \u30c8\u30fc\u30af\u30f3","text":"\u30bb\u30c3\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c <pre><code>graph LR\n    Browser[\u30d6\u30e9\u30a6\u30b6] --&gt;|Cookie: session_id| Server[\u30b5\u30fc\u30d0\u30fc]\n    Server --&gt;|\u30bb\u30c3\u30b7\u30e7\u30f3\u53d6\u5f97| Store[(\u30bb\u30c3\u30b7\u30e7\u30f3\u30b9\u30c8\u30a2)]</code></pre> <p>\u7279\u5fb4:</p> <ul> <li>\u30b5\u30fc\u30d0\u30fc\u5074\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u4fdd\u6301(Stateful)</li> <li>\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u306f\u30bb\u30c3\u30b7\u30e7\u30f3ID\u306e\u307f\u9001\u4fe1</li> <li>\u8a8d\u8a3c\u81ea\u4f53\u306f\u5916\u90e8IdP\u306b\u59d4\u8b72\u53ef\u80fd\uff08\u63a8\u5968\uff09</li> </ul> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u30b5\u30fc\u30d0\u30fc\u3067\u5373\u5ea7\u306b\u7121\u52b9\u5316\u53ef\u80fd</li> <li>\u2705 \u30bb\u30c3\u30b7\u30e7\u30f3\u60c5\u5831\u3092\u5b8c\u5168\u7ba1\u7406</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c \u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u5fc5\u8981</li> <li>\u274c \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u6642\u306b\u5171\u6709\u304c\u5fc5\u8981</li> </ul> \u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c(JWT) <pre><code>graph LR\n    Browser[\u30d6\u30e9\u30a6\u30b6] --&gt;|Bearer&lt;br/&gt;Token| Server[\u30b5\u30fc\u30d0\u30fc]\n    Server --&gt;|\u516c\u958b\u9375\u53d6\u5f97| AuthServer[\u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc]\n    Server --&gt;|\u7f72\u540d\u691c\u8a3c| Server</code></pre> <p>\u7279\u5fb4:</p> <ul> <li>\u30b5\u30fc\u30d0\u30fc\u306f\u72b6\u614b\u3092\u6301\u305f\u306a\u3044(Stateless)</li> <li>\u30c8\u30fc\u30af\u30f3\u81ea\u4f53\u306b\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u542b\u3080</li> </ul> <p>JWT \u306e\u69cb\u9020:</p> <pre><code>Header.Payload.Signature\n</code></pre> <ul> <li>Header: \u30a2\u30eb\u30b4\u30ea\u30ba\u30e0\u60c5\u5831(\u4f8b: HS256, RS256)</li> <li>Payload: \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3001\u6709\u52b9\u671f\u9650</li> <li>Signature: \u6539\u3056\u3093\u691c\u77e5\u7528\u306e\u7f72\u540d</li> </ul> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u30b9\u30c6\u30fc\u30c8\u30ec\u30b9(\u72b6\u614b\u4e0d\u8981)</li> <li>\u2705 \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u304c\u5bb9\u6613</li> <li>\u2705 \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u9593\u3067\u5171\u6709\u53ef\u80fd</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c \u5373\u5ea7\u306a\u7121\u52b9\u5316\u304c\u56f0\u96e3</li> <li>\u274c \u30c8\u30fc\u30af\u30f3\u30b5\u30a4\u30ba\u304c\u5927\u304d\u3044</li> </ul> \u6bd4\u8f03\u8868 \u9805\u76ee \u30bb\u30c3\u30b7\u30e7\u30f3 \u30c8\u30fc\u30af\u30f3(JWT) \u72b6\u614b\u7ba1\u7406 Stateful Stateless \u4fdd\u5b58\u5834\u6240(\u30b5\u30fc\u30d0\u30fc) \u5fc5\u8981(Redis\u7b49) \u4e0d\u8981 \u7121\u52b9\u5316 \u5373\u5ea7\u306b\u53ef\u80fd \u56f0\u96e3 \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0 \u5171\u6709\u30b9\u30c8\u30a2\u5fc5\u8981 \u5bb9\u6613 \u5178\u578b\u7684\u306a\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3 \u30e2\u30ce\u30ea\u30b7\u30c3\u30af\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0 SPA\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9 \u69cb\u6210\u4f8b \u30d5\u30ed\u30f3\u30c8+\u30d0\u30c3\u30af\u7d71\u5408(Next.js SSR, Rails, Django) \u9759\u7684HTML + API\u5206\u96e2(React + REST API) \u8a8d\u8a3c\u65b9\u5f0f Cookie Authorization Header \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3: \u3069\u3061\u3089\u304c\u5b89\u5168\uff1f <p>\u7d50\u8ad6: \u9069\u5207\u306b\u5b9f\u88c5\u3059\u308c\u3070\u4e21\u65b9\u3068\u3082\u5b89\u5168\u3067\u3059</p>"},{"location":"auth/basics/#_4","title":"\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u4fdd\u5b58\u5834\u6240","text":"<p>Web\u30b5\u30fc\u30d0\u30fc\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u306f\u3001\u4fdd\u5b58\u5834\u6240\u306b\u3088\u3063\u3066\u7279\u6027\u304c\u7570\u306a\u308a\u307e\u3059\u3002</p> 1. \u30e1\u30e2\u30ea(\u958b\u767a\u74b0\u5883\u5411\u3051) <p>\u591a\u304f\u306e\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u8a2d\u5b9a\u3002\u958b\u767a\u6642\u3084\u5358\u4e00\u30b5\u30fc\u30d0\u30fc\u69cb\u6210\u3067\u4f7f\u7528\u3002</p> <pre><code>// Express.js\nconst session = require('express-session');\napp.use(session({\n  secret: 'secret-key',\n  // \u30c7\u30d5\u30a9\u30eb\u30c8: \u30e1\u30e2\u30ea\u306b\u4fdd\u5b58\n}));\n</code></pre> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u9ad8\u901f\u30a2\u30af\u30bb\u30b9</li> <li>\u2705 \u8a2d\u5b9a\u4e0d\u8981</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c \u30b5\u30fc\u30d0\u30fc\u518d\u8d77\u52d5\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u6d88\u5931</li> <li>\u274c \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u4e0d\u53ef</li> <li>\u274c \u30e1\u30e2\u30ea\u67af\u6e07\u306e\u30ea\u30b9\u30af</li> </ul> <p>\u9069\u7528: \u958b\u767a\u74b0\u5883\u3001\u5358\u4e00\u30b5\u30fc\u30d0\u30fc\u69cb\u6210</p> 2. \u30a4\u30f3\u30e1\u30e2\u30eaDB - Redis(\u672c\u756a\u63a8\u5968) <p>**\u6700\u3082\u4e00\u822c\u7684\u306a\u672c\u756a\u74b0\u5883\u306e\u69cb\u6210\u3002**\u9ad8\u901f\u3067\u6c38\u7d9a\u5316\u3082\u53ef\u80fd\u3002</p> <pre><code>// Express + Redis\nconst RedisStore = require('connect-redis').default;\napp.use(session({\n  store: new RedisStore({ client: redisClient }),\n  secret: 'secret-key'\n}));\n</code></pre> <pre><code>// Spring Boot + Redis\nspring:\n  session:\n    store-type: redis\n</code></pre> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u8d85\u9ad8\u901f\uff08\u30e1\u30e2\u30ea\u30d9\u30fc\u30b9\uff09</li> <li>\u2705 \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u5bfe\u5fdc</li> <li>\u2705 \u6c38\u7d9a\u5316\u53ef\u80fd</li> <li>\u2705 TTL\uff08\u81ea\u52d5\u524a\u9664\uff09\u30b5\u30dd\u30fc\u30c8</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u26a0\ufe0f \u5225\u9014Redis\u74b0\u5883\u304c\u5fc5\u8981</li> </ul> <p>\u9069\u7528: \u672c\u756a\u74b0\u5883\u3001\u8907\u6570\u30b5\u30fc\u30d0\u30fc\u69cb\u6210</p> 3. \u30a4\u30f3\u30e1\u30e2\u30eaDB - Memcached <p>Redis\u3068\u4f3c\u3066\u3044\u308b\u304c\u3001\u6c38\u7d9a\u5316\u6a5f\u80fd\u304c\u306a\u3044\u30b7\u30f3\u30d7\u30eb\u306a\u30ad\u30e3\u30c3\u30b7\u30e5\u3002</p> <p>Redis\u3068\u306e\u9055\u3044:</p> \u9805\u76ee Redis Memcached \u6c38\u7d9a\u5316 \u2705 \u53ef\u80fd \u274c \u4e0d\u53ef \u30c7\u30fc\u30bf\u69cb\u9020 \u8c4a\u5bcc(\u30ea\u30b9\u30c8\u3001\u30bb\u30c3\u30c8\u7b49) \u30b7\u30f3\u30d7\u30eb(Key-Value) \u30ec\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3 \u2705 \u5bfe\u5fdc \u274c \u975e\u5bfe\u5fdc \u7528\u9014 \u30bb\u30c3\u30b7\u30e7\u30f3\u3001\u30ad\u30e3\u30c3\u30b7\u30e5 \u5358\u7d14\u306a\u30ad\u30e3\u30c3\u30b7\u30e5 <p>\u9069\u7528: \u30b7\u30f3\u30d7\u30eb\u306a\u30ad\u30e3\u30c3\u30b7\u30e5\u7528\u9014\u3001\u6c38\u7d9a\u5316\u4e0d\u8981\u306a\u5834\u5408</p> 4. RDB - PostgreSQL\u3001MySQL\u7b49 <p>\u30ea\u30ec\u30fc\u30b7\u30e7\u30ca\u30eb\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4fdd\u5b58\u3002</p> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u65e2\u5b58DB\u3092\u6d3b\u7528\u53ef\u80fd</li> <li>\u2705 \u6c38\u7d9a\u5316\u30fb\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u304c\u5bb9\u6613</li> <li>\u2705 \u30c8\u30e9\u30f3\u30b6\u30af\u30b7\u30e7\u30f3\u5bfe\u5fdc</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c Redis\u3088\u308a\u9045\u3044</li> <li>\u274c \u983b\u7e41\u306a\u8aad\u307f\u66f8\u304d\u3067DB\u8ca0\u8377</li> </ul> <p>\u9069\u7528: \u65e2\u306bRDB\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u74b0\u5883\u3001\u53b3\u5bc6\u306a\u30c7\u30fc\u30bf\u7ba1\u7406\u304c\u5fc5\u8981</p> 5. NoSQL - MongoDB\u3001DynamoDB\u7b49 <p>NoSQL\u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u306b\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u4fdd\u5b58\u3002</p> <p>MongoDB:</p> <ul> <li>\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u6307\u5411DB</li> <li>TTL\u6a5f\u80fd\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u81ea\u52d5\u524a\u9664\u53ef\u80fd</li> <li>\u65e2\u306bMongoDB\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306b\u6700\u9069</li> </ul> <p>DynamoDB(AWS):</p> <ul> <li>AWS\u306e\u30de\u30cd\u30fc\u30b8\u30c9NoSQL</li> <li>TTL\u6a5f\u80fd\u3042\u308a</li> <li>AWS\u74b0\u5883\u306a\u3089\u904b\u7528\u304c\u5bb9\u6613</li> <li>\u30b5\u30fc\u30d0\u30fc\u30ec\u30b9\u69cb\u6210\u306b\u9069\u5408</li> </ul> <p>\u9069\u7528: NoSQL\u74b0\u5883\u3001AWS/\u30af\u30e9\u30a6\u30c9\u74b0\u5883</p>"},{"location":"auth/basics/#_5","title":"\u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u6642\u306e\u8ab2\u984c","text":"<pre><code>graph TB\n    User[\u30e6\u30fc\u30b6\u30fc]\n    LB[\u30ed\u30fc\u30c9\u30d0\u30e9\u30f3\u30b5\u30fc]\n    Server1[Server 1&lt;br/&gt;\u30e1\u30e2\u30ea]\n    Server2[Server 2&lt;br/&gt;\u30e1\u30e2\u30ea]\n    Redis[(Redis&lt;br/&gt;\u5171\u6709)]\n\n    User --&gt;|1\u56de\u76ee| LB\n    LB --&gt; Server1\n    User --&gt;|2\u56de\u76ee| LB\n    LB --&gt; Server2\n\n    Server1 &lt;-.-&gt;|\u274c \u5171\u6709\u4e0d\u53ef| Server2\n    Server1 &lt;--&gt;|\u2705 \u5171\u6709\u53ef\u80fd| Redis\n    Server2 &lt;--&gt;|\u2705 \u5171\u6709\u53ef\u80fd| Redis</code></pre> <p>\u554f\u984c: \u30e1\u30e2\u30ea\u4fdd\u5b58\u3067\u306f\u3001\u5225\u30b5\u30fc\u30d0\u30fc\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u53d6\u5f97\u4e0d\u53ef</p> <p>\u89e3\u6c7a\u7b56:</p> <ul> <li>\u2705 Redis\u7b49\u306e\u5916\u90e8\u30b9\u30c8\u30ec\u30fc\u30b8(\u63a8\u5968)</li> <li>\u26a0\ufe0f \u30b9\u30c6\u30a3\u30c3\u30ad\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3(\u975e\u63a8\u5968: \u969c\u5bb3\u6642\u306b\u554f\u984c)</li> </ul> <p>\u74b0\u5883\u5225\u306e\u63a8\u5968:</p> \u74b0\u5883 \u63a8\u5968\u4fdd\u5b58\u5148 \u7406\u7531 \u958b\u767a\u74b0\u5883 \u30e1\u30e2\u30ea \u30b7\u30f3\u30d7\u30eb\u3001\u9ad8\u901f \u672c\u756a(\u5358\u4e00\u30b5\u30fc\u30d0\u30fc) \u30e1\u30e2\u30ea or Redis \u8981\u4ef6\u6b21\u7b2c \u672c\u756a(\u8907\u6570\u30b5\u30fc\u30d0\u30fc) Redis \u6c34\u5e73\u30b9\u30b1\u30fc\u30ea\u30f3\u30b0\u5fc5\u9808 \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9 JWT(\u30b9\u30c6\u30fc\u30c8\u30ec\u30b9) \u30bb\u30c3\u30b7\u30e7\u30f3\u30b9\u30c8\u30a2\u4e0d\u8981"},{"location":"auth/basics/#_6","title":"\u5b9f\u969b\u306e\u901a\u4fe1","text":"<p>\u30bb\u30c3\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9: <pre><code>GET /api/users HTTP/1.1\nCookie: session_id=abc123xyz789\n</code></pre></p> <p>\u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9: <pre><code>GET /api/users HTTP/1.1\nAuthorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre></p> <p>\u3069\u3061\u3089\u3082\u30ea\u30af\u30a8\u30b9\u30c8\u3054\u3068\u306b\u8a8d\u8a3c\u60c5\u5831\u3092\u9001\u4fe1 - \u3053\u306e\u70b9\u3067\u306e\u30ea\u30b9\u30af\u306f\u540c\u3058</p>"},{"location":"auth/basics/#_7","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af\u6bd4\u8f03","text":"\u30ea\u30b9\u30af \u30bb\u30c3\u30b7\u30e7\u30f3 \u30c8\u30fc\u30af\u30f3(JWT) \u5bfe\u7b56 \u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u76d7\u8074 \u26a0\ufe0f \u540c\u3058 \u26a0\ufe0f \u540c\u3058 \u2705 HTTPS\u5fc5\u9808 \u76d7\u307e\u308c\u305f\u5834\u5408\u306e\u7121\u52b9\u5316 \u2705 \u5373\u5ea7\u306b\u53ef\u80fd \u274c \u56f0\u96e3 \u77ed\u3044\u6709\u52b9\u671f\u9650 XSS\u653b\u6483 \u2705 HttpOnly Cookie\u3067\u9632\u5fa1 \u274c LocalStorage\u306f\u5371\u967a HttpOnly Cookie or \u30e1\u30e2\u30ea\u4fdd\u5b58 CSRF\u653b\u6483 \u26a0\ufe0f \u5bfe\u7b56\u5fc5\u8981 \u2705 Authorization Header\u306f\u5b89\u5168 SameSite\u5c5e\u6027"},{"location":"auth/basics/#_8","title":"\u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c\u306e\u6ce8\u610f\u70b9","text":"<p>\u274c \u5371\u967a\u306a\u5b9f\u88c5: <pre><code>// LocalStorage\u306b\u4fdd\u5b58 - XSS\u3067\u76d7\u307e\u308c\u308b\uff01\nlocalStorage.setItem('token', token);\n</code></pre></p> <p>\u2705 \u5b89\u5168\u306a\u5b9f\u88c5: <pre><code>// \u30e1\u30e2\u30ea\u4fdd\u5b58\uff08React State\u7b49\uff09\nconst [token, setToken] = useState(null);\n\n// \u307e\u305f\u306fHttpOnly Cookie\u3067\u4fdd\u5b58\nSet-Cookie: token=xxx; HttpOnly; Secure; SameSite=Strict\n</code></pre></p>"},{"location":"auth/basics/#_9","title":"\u5b89\u5168\u306a\u5b9f\u88c5\u306e\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","text":"<p>\u3069\u3061\u3089\u306e\u65b9\u5f0f\u3067\u3082\u4ee5\u4e0b\u3092\u5b88\u308b:</p> <ul> <li>\u2705 HTTPS\u5fc5\u9808 - \u901a\u4fe1\u3092\u6697\u53f7\u5316</li> <li>\u2705 HttpOnly Cookie - JavaScript\u304b\u3089\u30a2\u30af\u30bb\u30b9\u4e0d\u53ef</li> <li>\u2705 \u77ed\u3044\u6709\u52b9\u671f\u9650 - \u76d7\u307e\u308c\u3066\u3082\u5f71\u97ff\u3092\u6700\u5c0f\u5316\uff0815\u5206\u301c1\u6642\u9593\uff09</li> <li>\u2705 Secure\u5c5e\u6027 - HTTPS\u901a\u4fe1\u306e\u307f</li> <li>\u2705 SameSite\u5c5e\u6027 - CSRF\u5bfe\u7b56</li> </ul> <p>\u91cd\u8981: \u30ea\u30af\u30a8\u30b9\u30c8\u306b\u8a8d\u8a3c\u60c5\u5831\u304c\u542b\u307e\u308c\u308b\u3053\u3068\u81ea\u4f53\u306f\u554f\u984c\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u30bb\u30c3\u30b7\u30e7\u30f3ID\u3082\u30c8\u30fc\u30af\u30f3\u3082\u540c\u69d8\u306b\u542b\u307e\u308c\u307e\u3059\u3002\u554f\u984c\u306f**\u4fdd\u5b58\u65b9\u6cd5**\u3068**\u6709\u52b9\u671f\u9650\u7ba1\u7406**\u3067\u3059\u3002</p>"},{"location":"auth/basics/#oauth-20-openid-connect","title":"OAuth 2.0 \u3068 OpenID Connect","text":"<p>\u53c2\u8003\u8cc7\u6599</p> <p>\u65e5\u672c\u8a9e\u306e\u5206\u304b\u308a\u3084\u3059\u3044\u89e3\u8aac:</p> <ul> <li>\ud83d\udcd8 \u4e00\u756a\u5206\u304b\u308a\u3084\u3059\u3044 OAuth \u306e\u8aac\u660e - OAuth 2.0\u306e\u57fa\u672c\u3092\u4e01\u5be7\u306b\u89e3\u8aac\uff08Authlete\uff09</li> <li>\ud83d\udcd8 OAuth 2.0 \u5168\u30d5\u30ed\u30fc\u306e\u56f3\u89e3\u3068\u52d5\u753b - \u5404\u30d5\u30ed\u30fc\u3092\u56f3\u89e3\u3067\u7406\u89e3</li> <li>\ud83d\udcd8 OpenID Connect \u5168\u30d5\u30ed\u30fc\u89e3\u8aac - OIDC\u306e\u8a73\u7d30\u89e3\u8aac</li> <li>\ud83d\udcd8 OAuth 2.0 / OIDC \u5165\u9580\u7de8 - Authlete\u516c\u5f0f\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb</li> </ul> <p>\u516c\u5f0f\u4ed5\u69d8\uff08\u82f1\u8a9e\uff09:</p> <ul> <li>\ud83d\udcd6 RFC 6749 - OAuth 2.0</li> <li>\ud83d\udcd6 RFC 7636 - PKCE</li> <li>\ud83d\udcd6 OpenID Connect Core 1.0</li> </ul> OAuth 2.0 \u3068 OpenID Connect \u306e\u57fa\u672c <p>OAuth 2.0: \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5171\u6709\u305b\u305a\u306b\u3001\u4ed6\u306e\u30a2\u30d7\u30ea\u306b\u9650\u5b9a\u7684\u306a\u30a2\u30af\u30bb\u30b9\u6a29\u3092\u4e0e\u3048\u308b**\u8a8d\u53ef\u30d7\u30ed\u30c8\u30b3\u30eb**</p> <p>OpenID Connect (OIDC): OAuth 2.0\u306b**\u8a8d\u8a3c\u6a5f\u80fd**\u3092\u8ffd\u52a0\u3057\u305f\u30d7\u30ed\u30c8\u30b3\u30eb\uff08\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u53d6\u5f97\u304c\u53ef\u80fd\uff09</p> \u5177\u4f53\u4f8b\u3067\u7406\u89e3\u3059\u308b <p>OAuth 2.0\u306e\u4f8b: <pre><code>\u2705 \u5199\u771f\u7ba1\u7406\u30a2\u30d7\u30ea\u304cGoogle\u30d5\u30a9\u30c8\u306b\u30a2\u30af\u30bb\u30b9\n\u2192 Google\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u6e21\u3055\u306a\u3044\n\u2192 \u300c\u5199\u771f\u306e\u95b2\u89a7\u306e\u307f\u300d\u306e\u6a29\u9650\u3060\u3051\u4ed8\u4e0e\n\u2192 \u3044\u3064\u3067\u3082\u6a29\u9650\u3092\u53d6\u308a\u6d88\u305b\u308b\n</code></pre></p> <p>OpenID Connect\u306e\u4f8b: <pre><code>\u2705 \u300cGoogle\u3067\u30ed\u30b0\u30a4\u30f3\u300d\u30dc\u30bf\u30f3\n\u2192 \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\uff08\u540d\u524d\u3001\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9\uff09\u3092\u53d6\u5f97\n\u2192 \u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u4e00\u5207\u5171\u6709\u3057\u306a\u3044\n</code></pre></p> Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5411\u3051\u8a8d\u8a3c\u30d5\u30ed\u30fc\u6bd4\u8f03 \u30d5\u30ed\u30fc \u63a8\u5968\u5ea6 \u8aac\u660e \u9069\u7528 Authorization Code + PKCE \ud83d\udfe2 \u5fc5\u9808 \u6700\u3082\u5b89\u5168\u306a\u8a8d\u8a3c\u30d5\u30ed\u30fc\u3002\u8a8d\u53ef\u30b3\u30fc\u30c9\u6a2a\u53d6\u308a\u653b\u6483\u3092\u9632\u6b62\u3002 Web\u3001SPA\u3001Mobile Client Credentials \ud83d\udfe2 \u63a8\u5968 \u30b5\u30fc\u30d0\u30fc\u9593\u901a\u4fe1\u7528\u3002\u30e6\u30fc\u30b6\u30fc\u4e0d\u5728\u306eM2M\u8a8d\u8a3c\u3002 \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u3001\u30d0\u30c3\u30c1\u51e6\u7406 Implicit \ud83d\udd34 \u7981\u6b62 \u30c8\u30fc\u30af\u30f3\u304cURL\u306b\u9732\u51fa\u3002\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30ea\u30b9\u30af\u304c\u9ad8\u3044\u3002 \u274c \u4f7f\u7528\u3057\u306a\u3044 Password Credentials \ud83d\udd34 \u7981\u6b62 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30a2\u30d7\u30ea\u306b\u6e21\u3059\u3002OAuth 2.0\u306e\u601d\u60f3\u306b\u53cd\u3059\u308b\u3002 \u274c \u4f7f\u7528\u3057\u306a\u3044 <p>2025\u5e74\u306e\u63a8\u5968:</p> <ul> <li>\u2705 Web/SPA/Mobile: Authorization Code + PKCE \u30d5\u30ed\u30fc\u3092\u4f7f\u7528</li> <li>\u2705 \u30b5\u30fc\u30d0\u30fc\u9593\u901a\u4fe1: Client Credentials \u30d5\u30ed\u30fc\u3092\u4f7f\u7528</li> <li>\u274c Implicit / Password Credentials: \u4f7f\u7528\u7981\u6b62</li> </ul> OAuth 2.0/OIDC \u306e\u767b\u5834\u4eba\u7269 \u5f79\u5272 \u8aac\u660e \u4f8b \u30e6\u30fc\u30b6\u30fc \u30ea\u30bd\u30fc\u30b9\u306e\u6240\u6709\u8005 \u3042\u306a\u305f \u30af\u30e9\u30a4\u30a2\u30f3\u30c8 \u30e6\u30fc\u30b6\u30fc\u304c\u4f7f\u7528\u3059\u308b\u30a2\u30d7\u30ea Next.js \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9 \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc/IdP \u8a8d\u8a3c\u30fb\u30c8\u30fc\u30af\u30f3\u767a\u884c AWS Cognito, Auth0 \u30ea\u30bd\u30fc\u30b9\u30b5\u30fc\u30d0\u30fc \u4fdd\u8b77\u3055\u308c\u305f\u30c7\u30fc\u30bf\u63d0\u4f9b Spring Boot API \u30c8\u30fc\u30af\u30f3\u306e\u7a2e\u985e \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3 <p>\u7528\u9014: API \u30a2\u30af\u30bb\u30b9\u306e\u8a8d\u53ef</p> <pre><code>Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...\n</code></pre> <ul> <li>\u6709\u52b9\u671f\u9650: \u77ed\u547d(15\u5206\u301c1\u6642\u9593)</li> <li>\u5185\u5bb9: \u30b9\u30b3\u30fc\u30d7(\u6a29\u9650)\u3092\u542b\u3080</li> </ul> ID\u30c8\u30fc\u30af\u30f3 (OIDC) <p>\u7528\u9014: \u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u53d6\u5f97</p> <pre><code>{\n  \"sub\": \"user-id-12345\",\n  \"email\": \"user@example.com\",\n  \"name\": \"John Doe\",\n  \"exp\": 1616239022\n}\n</code></pre> <ul> <li>\u6709\u52b9\u671f\u9650: \u77ed\u547d(15\u5206\u301c1\u6642\u9593)</li> <li>\u5185\u5bb9: \u30e6\u30fc\u30b6\u30fc\u60c5\u5831</li> </ul> \u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3 <p>\u7528\u9014: \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u518d\u767a\u884c</p> <ul> <li>\u6709\u52b9\u671f\u9650: \u9577\u547d(\u6570\u65e5\u301c\u6570\u30f6\u6708)</li> <li>\u4fdd\u7ba1: \u53b3\u91cd\u306b\u7ba1\u7406(HttpOnly Cookie\u63a8\u5968)</li> </ul> OAuth 2.0/OIDC \u306e\u91cd\u8981\u306a\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d1\u30e9\u30e1\u30fc\u30bf \u30d1\u30e9\u30e1\u30fc\u30bf \u76ee\u7684 \u5fc5\u9808\u5ea6 PKCE \u8a8d\u53ef\u30b3\u30fc\u30c9\u6a2a\u53d6\u308a\u9632\u6b62 \ud83d\udd34 \u5fc5\u9808 state CSRF \u5bfe\u7b56 \ud83d\udd34 \u5fc5\u9808 nonce ID\u30c8\u30fc\u30af\u30f3\u306e\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u9632\u6b62 \ud83d\udfe1 \u63a8\u5968"},{"location":"auth/basics/#_10","title":"\u5177\u4f53\u7684\u306a\u5b9f\u88c5\u65b9\u6cd5","text":"1. PKCE\uff08\u30d4\u30af\u30b7\u30fc\uff09\u306e\u5b9f\u88c5 <p>\u76ee\u7684: \u8a8d\u53ef\u30b3\u30fc\u30c9\u304c\u6a2a\u53d6\u308a\u3055\u308c\u3066\u3082\u3001\u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u306a\u3044\u3088\u3046\u306b\u3059\u308b</p> <p>\u4ed5\u7d44\u307f:</p> <pre><code>sequenceDiagram\n    participant Client as \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n    participant AuthServer as \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\n\n    Note over Client: 1. \u30e9\u30f3\u30c0\u30e0\u5024\u751f\u6210\n    Client-&gt;&gt;Client: code_verifier = \u30e9\u30f3\u30c0\u30e0\u6587\u5b57\u5217(43-128\u6587\u5b57)\n    Client-&gt;&gt;Client: code_challenge = SHA256(code_verifier)\n\n    Note over Client,AuthServer: 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n    Client-&gt;&gt;AuthServer: code_challenge \u3092\u9001\u4fe1\n    AuthServer-&gt;&gt;AuthServer: code_challenge \u3092\u4fdd\u5b58\n\n    Note over Client,AuthServer: 3. \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\n    Client-&gt;&gt;AuthServer: code + code_verifier \u3092\u9001\u4fe1\n    AuthServer-&gt;&gt;AuthServer: SHA256(code_verifier) == code_challenge?\n    alt \u4e00\u81f4\n        AuthServer-&gt;&gt;Client: \u2705 \u30c8\u30fc\u30af\u30f3\u767a\u884c\n    else \u4e0d\u4e00\u81f4\n        AuthServer-&gt;&gt;Client: \u274c \u30a8\u30e9\u30fc\n    end</code></pre> <p>\u5b9f\u88c5\u4f8b\uff08JavaScript\uff09:</p> <pre><code>// 1. code_verifier \u3092\u751f\u6210\uff08\u30e9\u30f3\u30c0\u30e0\u6587\u5b57\u5217\uff09\nfunction generateCodeVerifier() {\n  const array = new Uint8Array(32);\n  crypto.getRandomValues(array);\n  return base64UrlEncode(array);\n}\n\n// 2. code_challenge \u3092\u751f\u6210\uff08SHA256\u30cf\u30c3\u30b7\u30e5\uff09\nasync function generateCodeChallenge(verifier) {\n  const encoder = new TextEncoder();\n  const data = encoder.encode(verifier);\n  const hash = await crypto.subtle.digest('SHA-256', data);\n  return base64UrlEncode(hash);\n}\n\n// 3. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\nconst codeVerifier = generateCodeVerifier();\nconst codeChallenge = await generateCodeChallenge(codeVerifier);\n\n// \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\uff08\u5f8c\u3067\u4f7f\u7528\uff09\nsessionStorage.setItem('code_verifier', codeVerifier);\n\n// \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\u3078\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\nwindow.location.href = `https://auth-server.com/authorize?\n  client_id=xxx&amp;\n  redirect_uri=https://myapp.com/callback&amp;\n  response_type=code&amp;\n  code_challenge=${codeChallenge}&amp;\n  code_challenge_method=S256`;\n\n// 4. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u5f8c\u3001\u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\nconst code = new URLSearchParams(window.location.search).get('code');\nconst verifier = sessionStorage.getItem('code_verifier');\n\nfetch('https://auth-server.com/token', {\n  method: 'POST',\n  body: new URLSearchParams({\n    grant_type: 'authorization_code',\n    code: code,\n    redirect_uri: 'https://myapp.com/callback',\n    client_id: 'xxx',\n    code_verifier: verifier  // \u2190 \u3053\u3053\u3067\u4f7f\u7528\n  })\n});\n</code></pre> <p>\u653b\u6483\u8005\u304c\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u76d7\u3093\u3067\u3082:</p> <ul> <li><code>code_verifier</code> \u3092\u77e5\u3089\u306a\u3044</li> <li>\u2192 <code>code_challenge</code> \u306e\u691c\u8a3c\u306b\u5931\u6557</li> <li>\u2192 \u30c8\u30fc\u30af\u30f3\u3092\u53d6\u5f97\u3067\u304d\u306a\u3044 \u2705</li> </ul> 2. state \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5b9f\u88c5 <p>\u76ee\u7684: CSRF\u653b\u6483\u3092\u9632\u3050\uff08\u60aa\u610f\u306e\u3042\u308b\u30b5\u30a4\u30c8\u304b\u3089\u306e\u8a8d\u8a3c\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u9632\u6b62\uff09</p> <p>\u4ed5\u7d44\u307f:</p> <pre><code>sequenceDiagram\n    participant Client as \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n    participant AuthServer as \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\n\n    Note over Client: 1. \u30e9\u30f3\u30c0\u30e0\u5024\u751f\u6210\n    Client-&gt;&gt;Client: state = \u30e9\u30f3\u30c0\u30e0\u6587\u5b57\u5217\n    Client-&gt;&gt;Client: \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\n\n    Note over Client,AuthServer: 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n    Client-&gt;&gt;AuthServer: state \u3092\u9001\u4fe1\n\n    Note over Client,AuthServer: 3. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\n    AuthServer-&gt;&gt;Client: code + state \u3092\u8fd4\u5374\n    Client-&gt;&gt;Client: \u30bb\u30c3\u30b7\u30e7\u30f3\u306estate\u3068\u4e00\u81f4\uff1f\n    alt \u4e00\u81f4\n        Client-&gt;&gt;Client: \u2705 \u51e6\u7406\u7d9a\u884c\n    else \u4e0d\u4e00\u81f4\n        Client-&gt;&gt;Client: \u274c CSRF\u653b\u6483\u306e\u53ef\u80fd\u6027\n    end</code></pre> <p>\u5b9f\u88c5\u4f8b\uff08JavaScript\uff09:</p> <pre><code>// 1. state \u3092\u751f\u6210\nfunction generateState() {\n  const array = new Uint8Array(32);\n  crypto.getRandomValues(array);\n  return base64UrlEncode(array);\n}\n\n// 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u524d\nconst state = generateState();\nsessionStorage.setItem('oauth_state', state);\n\nwindow.location.href = `https://auth-server.com/authorize?\n  client_id=xxx&amp;\n  redirect_uri=https://myapp.com/callback&amp;\n  response_type=code&amp;\n  state=${state}`;  // \u2190 state \u3092\u9001\u4fe1\n\n// 3. \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u51e6\u7406\nconst returnedState = new URLSearchParams(window.location.search).get('state');\nconst savedState = sessionStorage.getItem('oauth_state');\n\nif (returnedState !== savedState) {\n  // CSRF\u653b\u6483\u306e\u53ef\u80fd\u6027\n  throw new Error('Invalid state parameter');\n}\n\n// state\u691c\u8a3c\u6210\u529f \u2192 \u30c8\u30fc\u30af\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\n</code></pre> <p>CSRF\u653b\u6483\u306e\u30b7\u30ca\u30ea\u30aa:</p> <ol> <li>\u653b\u6483\u8005\u304c\u81ea\u5206\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\u3092\u958b\u59cb</li> <li>\u88ab\u5bb3\u8005\u306b\u8a8d\u53ef\u30b3\u30fc\u30c9\u3092\u542b\u3080URL\u3092\u30af\u30ea\u30c3\u30af\u3055\u305b\u308b</li> <li><code>state</code> \u304c\u306a\u3044\u3068\u3001\u88ab\u5bb3\u8005\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u653b\u6483\u8005\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u7d10\u4ed8\u3051\u3089\u308c\u308b</li> <li><code>state</code> \u304c\u3042\u308c\u3070\u3001\u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5024\u3068\u4e00\u81f4\u3057\u306a\u3044\u305f\u3081\u9632\u3052\u308b \u2705</li> </ol> 3. nonce \u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u5b9f\u88c5\uff08OIDC\uff09 <p>\u76ee\u7684: ID\u30c8\u30fc\u30af\u30f3\u306e\u30ea\u30d7\u30ec\u30a4\u653b\u6483\u3092\u9632\u3050</p> <p>\u4ed5\u7d44\u307f:</p> <pre><code>sequenceDiagram\n    participant Client as \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\n    participant AuthServer as \u8a8d\u53ef\u30b5\u30fc\u30d0\u30fc\n\n    Note over Client: 1. \u30e9\u30f3\u30c0\u30e0\u5024\u751f\u6210\n    Client-&gt;&gt;Client: nonce = \u30e9\u30f3\u30c0\u30e0\u6587\u5b57\u5217\n    Client-&gt;&gt;Client: \u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\n\n    Note over Client,AuthServer: 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\n    Client-&gt;&gt;AuthServer: nonce \u3092\u9001\u4fe1\n\n    Note over Client,AuthServer: 3. ID\u30c8\u30fc\u30af\u30f3\u53d6\u5f97\n    AuthServer-&gt;&gt;Client: ID\u30c8\u30fc\u30af\u30f3(nonce\u542b\u3080)\n    Client-&gt;&gt;Client: ID\u30c8\u30fc\u30af\u30f3\u306enonce\u3068\u4e00\u81f4\uff1f\n    alt \u4e00\u81f4\n        Client-&gt;&gt;Client: \u2705 \u30c8\u30fc\u30af\u30f3\u53d7\u7406\n    else \u4e0d\u4e00\u81f4\n        Client-&gt;&gt;Client: \u274c \u30ea\u30d7\u30ec\u30a4\u653b\u6483\u306e\u53ef\u80fd\u6027\n    end</code></pre> <p>\u5b9f\u88c5\u4f8b\uff08JavaScript\uff09:</p> <pre><code>// 1. nonce \u3092\u751f\u6210\nfunction generateNonce() {\n  const array = new Uint8Array(32);\n  crypto.getRandomValues(array);\n  return base64UrlEncode(array);\n}\n\n// 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8\nconst nonce = generateNonce();\nsessionStorage.setItem('oidc_nonce', nonce);\n\nwindow.location.href = `https://auth-server.com/authorize?\n  client_id=xxx&amp;\n  response_type=code&amp;\n  scope=openid email profile&amp;\n  nonce=${nonce}`;  // \u2190 nonce \u3092\u9001\u4fe1\n\n// 3. ID\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\nconst idToken = jwt.decode(response.id_token);\nconst savedNonce = sessionStorage.getItem('oidc_nonce');\n\nif (idToken.nonce !== savedNonce) {\n  // \u30ea\u30d7\u30ec\u30a4\u653b\u6483\u306e\u53ef\u80fd\u6027\n  throw new Error('Invalid nonce');\n}\n</code></pre> <p>ID\u30c8\u30fc\u30af\u30f3\u306e\u4e2d\u8eab\uff08nonce\u542b\u3080\uff09:</p> <pre><code>{\n  \"sub\": \"user-id-12345\",\n  \"email\": \"user@example.com\",\n  \"nonce\": \"abc123xyz789\",  // \u2190 \u30bb\u30c3\u30b7\u30e7\u30f3\u306e\u5024\u3068\u4e00\u81f4\u3092\u78ba\u8a8d\n  \"iat\": 1616239022,\n  \"exp\": 1616242622\n}\n</code></pre>"},{"location":"auth/basics/#_11","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u30d1\u30e9\u30e1\u30fc\u30bf\u306e\u7d44\u307f\u5408\u308f\u305b","text":"<p>\u6700\u5c0f\u9650\u306e\u5b9f\u88c5\uff08\u5fc5\u9808\uff09:</p> <pre><code>// PKCE + state \u306f\u5fc5\u305a\u5b9f\u88c5\nconst params = {\n  client_id: 'xxx',\n  redirect_uri: 'https://myapp.com/callback',\n  response_type: 'code',\n  code_challenge: codeChallenge,\n  code_challenge_method: 'S256',\n  state: state\n};\n</code></pre> <p>\u63a8\u5968\u5b9f\u88c5\uff08OIDC\u4f7f\u7528\u6642\uff09:</p> <pre><code>// PKCE + state + nonce\nconst params = {\n  client_id: 'xxx',\n  redirect_uri: 'https://myapp.com/callback',\n  response_type: 'code',\n  scope: 'openid email profile',\n  code_challenge: codeChallenge,\n  code_challenge_method: 'S256',\n  state: state,\n  nonce: nonce  // OIDC\u306a\u3089nonce\u3082\u8ffd\u52a0\n};\n</code></pre>"},{"location":"auth/basics/#_12","title":"\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u3046\uff08\u63a8\u5968\uff09","text":"<p>\u5b9f\u969b\u306e\u5b9f\u88c5\u3067\u306f\u3001\u8a8d\u8a3c\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3092\u5f37\u304f\u63a8\u5968\u3057\u307e\u3059\uff1a</p> <p>Next.js: <pre><code>// NextAuth.js \u304c\u81ea\u52d5\u7684\u306b PKCE + state \u3092\u8a2d\u5b9a\nimport CognitoProvider from \"next-auth/providers/cognito\";\n\nCognitoProvider({\n  clientId: process.env.COGNITO_CLIENT_ID,\n  clientSecret: process.env.COGNITO_CLIENT_SECRET,\n  issuer: process.env.COGNITO_ISSUER,\n  checks: [\"pkce\", \"state\"]  // \u81ea\u52d5\u8a2d\u5b9a\n})\n</code></pre></p> <p>React SPA: <pre><code>// @auth0/auth0-react \u304c\u81ea\u52d5\u7684\u306b\u51e6\u7406\nimport { Auth0Provider } from \"@auth0/auth0-react\";\n\n&lt;Auth0Provider\n  domain=\"your-domain.auth0.com\"\n  clientId=\"xxx\"\n  // PKCE + state + nonce \u3092\u81ea\u52d5\u7684\u306b\u51e6\u7406\n  authorizationParams={{\n    redirect_uri: window.location.origin\n  }}\n&gt;\n</code></pre></p> <p>\u91cd\u8981: \u81ea\u524d\u5b9f\u88c5\u306f\u8907\u96d1\u3067\u30df\u30b9\u304c\u8d77\u304d\u3084\u3059\u3044\u305f\u3081\u3001\u4fe1\u983c\u3067\u304d\u308b\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u4f7f\u7528\u3092\u63a8\u5968\u3057\u307e\u3059\u3002</p>"},{"location":"auth/basics/#_13","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u57fa\u672c","text":"Cookie \u306e\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a <pre><code>Set-Cookie: session_id=xxx;\n  HttpOnly;         // JavaScript\u304b\u3089\u30a2\u30af\u30bb\u30b9\u4e0d\u53ef(XSS\u5bfe\u7b56)\n  Secure;           // HTTPS\u901a\u4fe1\u306e\u307f\n  SameSite=Strict;  // CSRF\u5bfe\u7b56\n  Max-Age=86400     // \u6709\u52b9\u671f\u9650\n</code></pre> \u30c8\u30fc\u30af\u30f3\u4fdd\u7ba1\u5834\u6240 \u5834\u6240 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 \u63a8\u5968 LocalStorage \u274c XSS\u3067\u76d7\u307e\u308c\u308b \u7981\u6b62 HttpOnly Cookie \u2705 JavaScript\u4e0d\u53ef \u63a8\u5968 \u30e1\u30e2\u30ea(React State) \u2705 XSS\u8010\u6027\u9ad8 \u63a8\u5968"},{"location":"auth/basics/#_14","title":"\u69cb\u6210\u30d1\u30bf\u30fc\u30f3\u5225\u306e\u8a8d\u8a3c\u65b9\u5f0f","text":"\u30d1\u30bf\u30fc\u30f31: \u30e2\u30ce\u30ea\u30b7\u30c3\u30af\u69cb\u6210\uff08\u7d71\u5408\u578b\uff09 <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c\u304c\u9069\u3057\u3066\u3044\u308b</p> <p>\u4f7f\u7528\u3059\u308b\u8a8d\u8a3c\u30d5\u30ed\u30fc: Authorization Code + PKCE</p> <p>\u5b9f\u969b\u306e\u8a8d\u8a3c\u30d5\u30ed\u30fc\uff08\u5916\u90e8IdP\u4f7f\u7528\uff09:</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant Server as \ud83d\udda5\ufe0f \u30b5\u30fc\u30d0\u30fc(Next.js\u7b49)\n    participant IdP as \ud83d\udd10 \u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc&lt;br/&gt;(Cognito/Auth0)\n    participant Redis as \ud83d\udcbe \u30bb\u30c3\u30b7\u30e7\u30f3\u30b9\u30c8\u30a2\n\n    Browser-&gt;&gt;Server: 1. \u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u62bc\u4e0b\n    Server-&gt;&gt;IdP: 2. \u8a8d\u8a3c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    IdP-&gt;&gt;Browser: 3. \u30ed\u30b0\u30a4\u30f3\u753b\u9762\u8868\u793a\n    Browser-&gt;&gt;IdP: 4. ID/\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\n    IdP-&gt;&gt;Server: 5. \u8a8d\u8a3c\u30b3\u30fc\u30c9\u8fd4\u5374\n    Server-&gt;&gt;IdP: 6. \u30c8\u30fc\u30af\u30f3\u53d6\u5f97\n    Server-&gt;&gt;Redis: 7. \u30bb\u30c3\u30b7\u30e7\u30f3\u4fdd\u5b58\n    Server-&gt;&gt;Browser: 8. Cookie(session_id)\u767a\u884c</code></pre> <p>\u30dd\u30a4\u30f3\u30c8:</p> <ul> <li>\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406\u306f**IdP\u304c\u62c5\u5f53**\uff08\u81ea\u524d\u3067\u7ba1\u7406\u3057\u306a\u3044\uff09</li> <li>\u30b5\u30fc\u30d0\u30fc\u306f\u8a8d\u8a3c\u5f8c\u306e**\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\u306e\u307f**\u3092\u884c\u3046</li> <li>\u30e9\u30a4\u30d6\u30e9\u30ea\u4f8b: <code>next-auth</code>\u3001<code>devise</code>\uff08Rails\uff09\u3001<code>django-allauth</code></li> </ul> <p>\u69cb\u6210\u306e\u7279\u5fb4:</p> <ul> <li>\ud83d\udce6 1\u3064\u306e\u30b5\u30fc\u30d0\u30fc \u3067\u5168\u3066\u51e6\u7406\uff08\u30d5\u30ed\u30f3\u30c8+\u30d0\u30c3\u30af\u7d71\u5408\uff09</li> <li>\ud83c\udfd7\ufe0f \u30b5\u30fc\u30d0\u30fc\u304c HTML\u3092\u751f\u6210 \u3057\u3066\u8fd4\u3059\uff08SSR\uff09</li> <li>\ud83d\udd10 Cookie\u30d9\u30fc\u30b9\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406</li> <li>\u2705 \u5373\u5ea7\u306a\u30bb\u30c3\u30b7\u30e7\u30f3\u7121\u52b9\u5316\u304c\u53ef\u80fd</li> </ul> <p>\u6280\u8853\u4f8b: Ruby on Rails\u3001Django\u3001Laravel\u3001Next.js\uff08SSR\u30e2\u30fc\u30c9\uff09\u3001Spring Boot + Thymeleaf</p> <p>\u9069\u7528\u4f8b: \u793e\u5185\u30b7\u30b9\u30c6\u30e0\u3001\u7ba1\u7406\u753b\u9762\u3001\u30d6\u30ed\u30b0\u3001EC\u30b5\u30a4\u30c8\uff08SSR\uff09</p> \u30d1\u30bf\u30fc\u30f32: \u5206\u96e2\u578b\u69cb\u6210\uff08SPA + API\uff09 <p>\u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c\u304c\u9069\u3057\u3066\u3044\u308b</p> <p>\u4f7f\u7528\u3059\u308b\u8a8d\u8a3c\u30d5\u30ed\u30fc: Authorization Code + PKCE</p> <p>\u5b9f\u969b\u306e\u8a8d\u8a3c\u30d5\u30ed\u30fc\uff08\u5916\u90e8IdP\u4f7f\u7528\uff09:</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6(SPA)\n    participant IdP as \ud83d\udd10 \u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc&lt;br/&gt;(Cognito/Auth0)\n    participant API as \ud83d\udd0c API\u30b5\u30fc\u30d0\u30fc\n\n    Browser-&gt;&gt;IdP: 1. \u30ed\u30b0\u30a4\u30f3\u30ea\u30af\u30a8\u30b9\u30c8\n    IdP-&gt;&gt;Browser: 2. ID/\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\n    IdP-&gt;&gt;Browser: 3. \u30c8\u30fc\u30af\u30f3\u767a\u884c(JWT)\n    Browser-&gt;&gt;Browser: 4. \u30c8\u30fc\u30af\u30f3\u3092\u30e1\u30e2\u30ea\u4fdd\u5b58\n    Browser-&gt;&gt;API: 5. API\u547c\u3073\u51fa\u3057 + Token\n    API-&gt;&gt;IdP: 6. \u30c8\u30fc\u30af\u30f3\u691c\u8a3c\n    API-&gt;&gt;Browser: 7. \u30c7\u30fc\u30bf\u8fd4\u5374</code></pre> <p>\u30dd\u30a4\u30f3\u30c8:</p> <ul> <li>\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406\u306f**IdP\u304c\u62c5\u5f53**\uff08\u81ea\u524d\u3067\u7ba1\u7406\u3057\u306a\u3044\uff09</li> <li>\u30b5\u30fc\u30d0\u30fc\u306f**\u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u306e\u307f**\uff08\u72b6\u614b\u3092\u6301\u305f\u306a\u3044\uff09</li> <li>\u30e9\u30a4\u30d6\u30e9\u30ea\u4f8b: <code>@auth0/auth0-react</code>\u3001<code>aws-amplify</code>\u3001<code>@supabase/auth-helpers</code></li> </ul> <p>\u69cb\u6210\u306e\u7279\u5fb4:</p> <ul> <li>\ud83d\udd00 2\u3064\u306e\u30b5\u30fc\u30d0\u30fc \u3067\u5f79\u5272\u5206\u62c5\uff08\u9759\u7684\u914d\u4fe1 + API\uff09</li> <li>\ud83d\udcc4 \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc: HTML/CSS/JavaScript\u3092\u914d\u4fe1\uff08CDN\uff09</li> <li>\ud83d\udd0c API\u30b5\u30fc\u30d0\u30fc: \u30c7\u30fc\u30bf\u51e6\u7406\u30fbDB\u64cd\u4f5c\uff08JSON\u8fd4\u5374\uff09</li> <li>\ud83c\udfab \u30c8\u30fc\u30af\u30f3\u30d9\u30fc\u30b9\u306e\u8a8d\u8a3c\uff08Authorization Header\uff09</li> </ul> <p>\u6280\u8853\u4f8b: React + Vercel/Netlify\u3001Vue.js + Cloudflare Pages\u3001Angular\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\uff08Spring Boot\u3001FastAPI\u3001Node.js\u7b49\uff09</p> <p>\u9069\u7528\u4f8b: \u30e2\u30c0\u30f3Web\u30a2\u30d7\u30ea\u3001SaaS\u88fd\u54c1\u3001\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u3001\u30e2\u30d0\u30a4\u30eb\u30a2\u30d7\u30ea\u30d0\u30c3\u30af\u30a8\u30f3\u30c9</p> \u30d1\u30bf\u30fc\u30f33: \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u69cb\u6210\uff08BFF\u30d1\u30bf\u30fc\u30f3\uff09 <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u3068\u30c8\u30fc\u30af\u30f3\u306e\u4e21\u65b9\u3092\u4f75\u7528\u53ef\u80fd</p> <p>\u4f7f\u7528\u3059\u308b\u8a8d\u8a3c\u30d5\u30ed\u30fc: Authorization Code + PKCE</p> <p>\u5b9f\u969b\u306e\u8a8d\u8a3c\u30d5\u30ed\u30fc\uff08\u5916\u90e8IdP\u4f7f\u7528\uff09:</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant BFF as \u26a1 Next.js&lt;br/&gt;(BFF)\n    participant IdP as \ud83d\udd10 \u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc&lt;br/&gt;(Cognito/Auth0)\n    participant API as \ud83d\udd0c \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API&lt;br/&gt;(Spring Boot\u7b49)\n    participant DB as \ud83d\uddc4\ufe0f \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n    Note over Browser,BFF: \u521d\u56de\u30a2\u30af\u30bb\u30b9\uff08SSR\uff09\n    Browser-&gt;&gt;BFF: 1. \u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8\n    BFF-&gt;&gt;IdP: 2. \u8a8d\u8a3c\u30ea\u30c0\u30a4\u30ec\u30af\u30c8\n    IdP-&gt;&gt;Browser: 3. \u30ed\u30b0\u30a4\u30f3\u753b\u9762\u8868\u793a\n    Browser-&gt;&gt;IdP: 4. ID/\u30d1\u30b9\u30ef\u30fc\u30c9\u5165\u529b\n    IdP-&gt;&gt;BFF: 5. \u8a8d\u8a3c\u30b3\u30fc\u30c9\u8fd4\u5374\n    BFF-&gt;&gt;IdP: 6. \u30c8\u30fc\u30af\u30f3\u53d6\u5f97\n    BFF-&gt;&gt;BFF: 7. \u30bb\u30c3\u30b7\u30e7\u30f3\u4fdd\u5b58\n    BFF-&gt;&gt;API: 8. \u30c7\u30fc\u30bf\u53d6\u5f97API\u547c\u3073\u51fa\u3057\n    API-&gt;&gt;DB: 9. DB\u691c\u7d22\n    DB-&gt;&gt;API: 10. \u30c7\u30fc\u30bf\u8fd4\u5374\n    API-&gt;&gt;BFF: 11. JSON\u8fd4\u5374\n    BFF-&gt;&gt;BFF: 12. HTML\u3092\u751f\u6210\uff08SSR\uff09\n    BFF-&gt;&gt;Browser: 13. \u5b8c\u6210\u3057\u305fHTML + Cookie\u8fd4\u5374\n\n    Note over Browser,DB: \u4ee5\u964d\u306e\u30da\u30fc\u30b8\u9077\u79fb\uff08SPA\uff09\n    Browser-&gt;&gt;BFF: 14. API Route\u547c\u3073\u51fa\u3057\n    BFF-&gt;&gt;API: 15. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3078\u4e2d\u7d99\n    API-&gt;&gt;DB: 16. DB\u691c\u7d22\n    DB-&gt;&gt;API: 17. \u30c7\u30fc\u30bf\u8fd4\u5374\n    API-&gt;&gt;BFF: 18. JSON\u8fd4\u5374\n    BFF-&gt;&gt;Browser: 19. JSON\u8fd4\u5374\n    Browser-&gt;&gt;Browser: 20. JavaScript\u3067\u753b\u9762\u66f4\u65b0</code></pre> <p>\u30dd\u30a4\u30f3\u30c8:</p> <ul> <li>\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406\u306f**IdP\u304c\u62c5\u5f53**\uff08\u81ea\u524d\u3067\u7ba1\u7406\u3057\u306a\u3044\uff09</li> <li>BFF\u5c64\u3067**\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406**\u3068**\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3078\u306e\u4e2d\u7d99**\u3092\u884c\u3046</li> <li>\u30e9\u30a4\u30d6\u30e9\u30ea\u4f8b: <code>next-auth</code>\u3001<code>@supabase/auth-helpers-nextjs</code></li> </ul> <p>BFF\u30d1\u30bf\u30fc\u30f3\u306e\u7279\u5fb4:</p> <ul> <li>\u521d\u56de\u8868\u793a\u306fSSR: \u9ad8\u901f\u30fbSEO\u5bfe\u7b56</li> <li>\u4ee5\u964d\u306fSPA\u52d5\u4f5c: \u90e8\u5206\u66f4\u65b0\u30fb\u9ad8\u901f\u9077\u79fb</li> <li>BFF\u5c64\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406: \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u306e\u8a8d\u8a3c\u72b6\u614b\u3092\u7ba1\u7406</li> <li>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3068\u306e\u901a\u4fe1: \u30c8\u30fc\u30af\u30f3\u307e\u305f\u306fAPI Routes\u3067\u4e2d\u7d99</li> </ul> <p>\u69cb\u6210\u306e\u7279\u5fb4:</p> <ul> <li>\ud83c\udfaf Next.js\u304cBFF\u5c64\u3068\u3057\u3066\u6a5f\u80fd\uff08\u8a8d\u8a3c\u30fb\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406\uff09</li> <li>\ud83d\udd0c \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306f\u5225\u30b5\u30fc\u30d0\u30fc\uff08\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u5bfe\u5fdc\uff09</li> <li>\u26a1 SSR\u3068SPA\u306e\u826f\u3044\u3068\u3053\u53d6\u308a</li> <li>\ud83d\udd10 BFF\u3067\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406 + \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306eAPI\u547c\u3073\u51fa\u3057</li> </ul> <p>\u6280\u8853\u4f8b: Next.js + API Routes\u3001Nuxt.js + Server Routes\u3001\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff08Spring Boot\u3001FastAPI\u3001Go\u7b49\uff09</p> <p>\u63a8\u5968\u30e9\u30a4\u30d6\u30e9\u30ea:</p> <ul> <li><code>next-auth</code> / <code>NextAuth.js</code>: Next.js\u5411\u3051\u306e\u8a8d\u8a3c\u30e9\u30a4\u30d6\u30e9\u30ea</li> <li><code>@supabase/auth-helpers-nextjs</code>: Supabase\u8a8d\u8a3c\u3092Next.js\u3067\u4f7f\u7528</li> </ul> <p>\u9069\u7528\u4f8b: EC\u30b5\u30a4\u30c8\u3001\u30dd\u30fc\u30bf\u30eb\u30b5\u30a4\u30c8\u3001\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30baWeb\u30a2\u30d7\u30ea</p> \u91cd\u8981: \u8a8d\u8a3c\u65b9\u5f0f\u3068\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406\u306f\u5225\u306e\u6982\u5ff5 <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u8a8d\u8a3c \u2260 \u81ea\u524d\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u7ba1\u7406</p> <p>\u30bb\u30c3\u30b7\u30e7\u30f3\u30d9\u30fc\u30b9\u3067\u3082\u3001\u5b9f\u969b\u306e\u8a8d\u8a3c\u306f\u5916\u90e8\u306e\u8a8d\u8a3c\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc\uff08AWS Cognito\u3001Auth0\u7b49\uff09\u306b\u59d4\u8b72\u3059\u308b\u306e\u304c \u73fe\u4ee3\u306e\u6a19\u6e96 \u3067\u3059\u3002</p> <ul> <li>\u274c \u975e\u63a8\u5968: \u81ea\u524d\u3067\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u30cf\u30c3\u30b7\u30e5\u5316\u3057\u3066DB\u306b\u4fdd\u5b58</li> <li>\u2705 \u63a8\u5968: \u5916\u90e8IdP\u3067\u8a8d\u8a3c \u2192 \u30bb\u30c3\u30b7\u30e7\u30f3ID\u3092Cookie\u3067\u7ba1\u7406</li> </ul>"},{"location":"auth/basics/#_15","title":"\u7528\u8a9e\u96c6","text":"\u7528\u8a9e\u4e00\u89a7 \u7528\u8a9e \u8aac\u660e \u30b9\u30b3\u30fc\u30d7 \u30a2\u30af\u30bb\u30b9\u6a29\u9650\u306e\u7bc4\u56f2(\u4f8b: <code>read:profile</code>) \u8a8d\u53ef\u30b3\u30fc\u30c9 \u30c8\u30fc\u30af\u30f3\u53d6\u5f97\u306e\u305f\u3081\u306e\u4e00\u6642\u7684\u306a\u30b3\u30fc\u30c9 PKCE \u8a8d\u53ef\u30b3\u30fc\u30c9\u6a2a\u53d6\u308a\u653b\u6483\u3092\u9632\u3050\u4ed5\u7d44\u307f CSRF \u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30ea\u30af\u30a8\u30b9\u30c8\u30d5\u30a9\u30fc\u30b8\u30a7\u30ea XSS \u30af\u30ed\u30b9\u30b5\u30a4\u30c8\u30b9\u30af\u30ea\u30d7\u30c6\u30a3\u30f3\u30b0"},{"location":"auth/basics/#_16","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>\u57fa\u790e\u3092\u7406\u89e3\u3057\u305f\u3089\u3001\u5b9f\u88c5\u306b\u9032\u307f\u307e\u3057\u3087\u3046:</p> <ul> <li>\u5b9f\u88c5\u30ac\u30a4\u30c9 - Next.js + Spring Boot + Cognito \u3067\u306e\u5177\u4f53\u7684\u306a\u5b9f\u88c5\u65b9\u6cd5</li> </ul> <p>\u6700\u7d42\u66f4\u65b0: 2025\u5e7410\u6708 \u5bfe\u8c61\u8aad\u8005: \u8a8d\u8a3c\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u958b\u767a\u8005(\u521d\u7d1a\u301c\u4e2d\u7d1a)</p>"},{"location":"auth/implementation/","title":"Next.js + Spring Boot + Cognito \u5b9f\u88c5\u30ac\u30a4\u30c9","text":"<p>\ud83d\ude80 \u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684 Next.js\u3001Spring Boot\u3001AWS Cognito\u3092\u4f7f\u3063\u305f\u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u3001\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56\u3068\u5171\u306b\u89e3\u8aac\u3057\u307e\u3059\u3002BFF\u30d1\u30bf\u30fc\u30f3\u3092\u63a1\u7528\u3057\u30012025\u5e74\u306e\u30d9\u30b9\u30c8\u30d7\u30e9\u30af\u30c6\u30a3\u30b9\u306b\u6e96\u62e0\u3057\u305f\u5b9f\u88c5\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002</p>"},{"location":"auth/implementation/#_1","title":"\ud83d\udcda \u95a2\u9023\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8","text":"<ul> <li>\u524d\u63d0\u77e5\u8b58: \u57fa\u790e\u77e5\u8b58 - \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u306e\u57fa\u672c\u6982\u5ff5</li> </ul>"},{"location":"auth/implementation/#_2","title":"\u30b7\u30b9\u30c6\u30e0\u69cb\u6210","text":"\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3(BFF\u30d1\u30bf\u30fc\u30f3) <pre><code>graph TB\n    Browser[\ud83c\udf10 \u30d6\u30e9\u30a6\u30b6]\n    Next[\u26a1 Next.js BFF&lt;br/&gt;\u30c8\u30fc\u30af\u30f3\u7ba1\u7406&lt;br/&gt;API\u30d7\u30ed\u30ad\u30b7]\n    Cognito[\ud83d\udd10 AWS Cognito&lt;br/&gt;\u8a8d\u8a3c\u30fb\u30c8\u30fc\u30af\u30f3\u767a\u884c]\n    Spring[\u2615 Spring Boot API&lt;br/&gt;\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af]\n\n    Browser &lt;--&gt;|Cookie&lt;br/&gt;HttpOnly/Secure| Next\n    Next &lt;--&gt;|OAuth 2.0&lt;br/&gt;Code+PKCE| Cognito\n    Next --&gt;|Bearer Token| Spring</code></pre> <p>\u5404\u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8\u306e\u5f79\u5272:</p> \u30b3\u30f3\u30dd\u30fc\u30cd\u30f3\u30c8 \u8cac\u52d9 Next.js BFF \u8a8d\u8a3c\u30d5\u30ed\u30fc\u7ba1\u7406\u3001\u30c8\u30fc\u30af\u30f3\u7ba1\u7406\u3001API\u30d7\u30ed\u30ad\u30b7 AWS Cognito \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u3001\u30c8\u30fc\u30af\u30f3\u767a\u884c\u3001MFA Spring Boot \u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3001\u30c8\u30fc\u30af\u30f3\u691c\u8a3c <p>BFF\u30d1\u30bf\u30fc\u30f3\u306e\u5229\u70b9:</p> <ul> <li>\u2705 \u30c8\u30fc\u30af\u30f3\u304c\u30d6\u30e9\u30a6\u30b6\u306b\u9732\u51fa\u3057\u306a\u3044(XSS\u5bfe\u7b56)</li> <li>\u2705 \u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3Cookie\u5ec3\u6b62\u306b\u5bfe\u5fdc</li> <li>\u2705 CORS\u8a2d\u5b9a\u304c\u30b7\u30f3\u30d7\u30eb</li> <li>\u2705 \u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3\u3092\u5b89\u5168\u306b\u7ba1\u7406</li> </ul>"},{"location":"auth/implementation/#_3","title":"\u8a8d\u8a3c\u30d5\u30ed\u30fc","text":"\u521d\u56de\u30ed\u30b0\u30a4\u30f3 <pre><code>sequenceDiagram\n    participant Browser\n    participant Next as Next.js BFF\n    participant Cognito\n    participant Spring as Spring Boot\n\n    Browser-&gt;&gt;Next: 1. \u30ed\u30b0\u30a4\u30f3\u30af\u30ea\u30c3\u30af\n    Note over Next: PKCE\u751f\u6210\n    Next-&gt;&gt;Cognito: 2. \u8a8d\u53ef\u30ea\u30af\u30a8\u30b9\u30c8&lt;br/&gt;(code_challenge, state)\n    Cognito-&gt;&gt;Browser: 3. \u30ed\u30b0\u30a4\u30f3\u753b\u9762\n    Browser-&gt;&gt;Cognito: 4. \u8a8d\u8a3c\u60c5\u5831\u5165\u529b\n    Cognito-&gt;&gt;Next: 5. \u8a8d\u53ef\u30b3\u30fc\u30c9\n    Next-&gt;&gt;Cognito: 6. \u30c8\u30fc\u30af\u30f3\u8981\u6c42&lt;br/&gt;(code, code_verifier)\n    Cognito-&gt;&gt;Next: 7. \u30c8\u30fc\u30af\u30f3\u767a\u884c\n    Note over Next: \u30b5\u30fc\u30d0\u30fc\u30bb\u30c3\u30b7\u30e7\u30f3\u306b\u4fdd\u5b58\n    Next-&gt;&gt;Browser: 8. HttpOnly Cookie\u8a2d\u5b9a\n    Browser-&gt;&gt;Next: 9. API\u30ea\u30af\u30a8\u30b9\u30c8\n    Next-&gt;&gt;Spring: 10. Bearer Token\n    Spring-&gt;&gt;Next: 11. \u30c7\u30fc\u30bf\n    Next-&gt;&gt;Browser: 12. \u30ec\u30b9\u30dd\u30f3\u30b9</code></pre>"},{"location":"auth/implementation/#aws-cognito","title":"AWS Cognito \u8a2d\u5b9a","text":"\u30e6\u30fc\u30b6\u30fc\u30d7\u30fc\u30eb\u4f5c\u6210 <pre><code># \u8a8d\u8a3c\u30d5\u30ed\u30fc\n- Email/Password\n- MFA: Optional(TOTP\u63a8\u5968)\n- \u30d1\u30b9\u30ef\u30fc\u30c9\u30dd\u30ea\u30b7\u30fc: \u5f37\u529b(12\u6587\u5b57\u4ee5\u4e0a\u3001\u5927\u5c0f\u82f1\u6570\u8a18\u53f7)\n</code></pre>"},{"location":"auth/implementation/#_4","title":"\u30a2\u30d7\u30ea\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a","text":"<pre><code># Terraform\u4f8b\nresource \"aws_cognito_user_pool_client\" \"app\" {\n  name         = \"nextjs-app\"\n  user_pool_id = aws_cognito_user_pool.main.id\n\n  # Authorization Code + PKCE\n  allowed_oauth_flows = [\"code\"]\n  allowed_oauth_flows_user_pool_client = true\n\n  # \u30b9\u30b3\u30fc\u30d7\n  allowed_oauth_scopes = [\n    \"openid\",\n    \"email\",\n    \"profile\"\n  ]\n\n  # \u30b3\u30fc\u30eb\u30d0\u30c3\u30afURL\n  callback_urls = [\n    \"http://localhost:3000/api/auth/callback/cognito\",\n    \"https://yourapp.com/api/auth/callback/cognito\"\n  ]\n\n  # \u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\n  access_token_validity  = 1   # 1\u6642\u9593\n  id_token_validity      = 1   # 1\u6642\u9593\n  refresh_token_validity = 30  # 30\u65e5\n\n  # \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\n  prevent_user_existence_errors = \"ENABLED\"\n  enable_token_revocation       = true\n}\n</code></pre>"},{"location":"auth/implementation/#nextjs","title":"Next.js \u5b9f\u88c5","text":"1. NextAuth \u8a2d\u5b9a <pre><code>npm install next-auth\n</code></pre> <pre><code>// app/api/auth/[...nextauth]/route.ts\nimport NextAuth from \"next-auth\";\nimport CognitoProvider from \"next-auth/providers/cognito\";\n\nexport const authOptions = {\n  providers: [\n    CognitoProvider({\n      clientId: process.env.COGNITO_CLIENT_ID!,\n      clientSecret: process.env.COGNITO_CLIENT_SECRET!,\n      issuer: process.env.COGNITO_ISSUER!,\n      checks: [\"pkce\", \"state\"], // PKCE + state \u81ea\u52d5\u8a2d\u5b9a\n    })\n  ],\n\n  session: {\n    strategy: \"jwt\",\n    maxAge: 30 * 24 * 60 * 60, // 30\u65e5\n  },\n\n  callbacks: {\n    async jwt({ token, account }) {\n      if (account) {\n        token.accessToken = account.access_token;\n        token.idToken = account.id_token;\n        token.refreshToken = account.refresh_token;\n        token.expiresAt = account.expires_at;\n      }\n\n      // \u30c8\u30fc\u30af\u30f3\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\n      if (Date.now() &lt; token.expiresAt * 1000) {\n        return token;\n      }\n\n      return refreshAccessToken(token);\n    },\n\n    async session({ session, token }) {\n      session.accessToken = token.accessToken;\n      session.error = token.error;\n      return session;\n    }\n  },\n};\n\nasync function refreshAccessToken(token: any) {\n  try {\n    const response = await fetch(\n      `${process.env.COGNITO_ISSUER}/oauth2/token`,\n      {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n        body: new URLSearchParams({\n          grant_type: \"refresh_token\",\n          client_id: process.env.COGNITO_CLIENT_ID!,\n          refresh_token: token.refreshToken,\n        }),\n      }\n    );\n\n    const tokens = await response.json();\n\n    return {\n      ...token,\n      accessToken: tokens.access_token,\n      idToken: tokens.id_token,\n      expiresAt: Date.now() / 1000 + tokens.expires_in,\n    };\n  } catch (error) {\n    return { ...token, error: \"RefreshAccessTokenError\" };\n  }\n}\n\nconst handler = NextAuth(authOptions);\nexport { handler as GET, handler as POST };\n</code></pre> 2. API \u30d7\u30ed\u30ad\u30b7(BFF) <pre><code>// app/api/users/profile/route.ts\nimport { getServerSession } from \"next-auth\";\nimport { authOptions } from \"@/app/api/auth/[...nextauth]/route\";\nimport { NextResponse } from \"next/server\";\n\nexport async function GET() {\n  const session = await getServerSession(authOptions);\n\n  if (!session?.idToken) {\n    return NextResponse.json({ error: \"Unauthorized\" }, { status: 401 });\n  }\n\n  try {\n    const response = await fetch(\n      `${process.env.API_BASE_URL}/users/profile`,\n      {\n        headers: {\n          Authorization: `Bearer ${session.idToken}`,\n        },\n      }\n    );\n\n    const data = await response.json();\n    return NextResponse.json(data);\n  } catch (error) {\n    return NextResponse.json(\n      { error: \"API request failed\" },\n      { status: 500 }\n    );\n  }\n}\n</code></pre> 3. \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074 <pre><code>// app/page.tsx\n\"use client\";\n\nimport { useSession, signIn, signOut } from \"next-auth/react\";\n\nexport default function Home() {\n  const { data: session, status } = useSession();\n\n  if (status === \"loading\") return &lt;div&gt;Loading...&lt;/div&gt;;\n\n  if (!session) {\n    return &lt;button onClick={() =&gt; signIn(\"cognito\")}&gt;\u30ed\u30b0\u30a4\u30f3&lt;/button&gt;;\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;\u3088\u3046\u3053\u305d\u3001{session.user?.email}\u3055\u3093&lt;/p&gt;\n      &lt;button onClick={() =&gt; signOut()}&gt;\u30ed\u30b0\u30a2\u30a6\u30c8&lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>"},{"location":"auth/implementation/#spring-boot","title":"Spring Boot \u5b9f\u88c5","text":"1. \u4f9d\u5b58\u95a2\u4fc2 <pre><code>&lt;!-- pom.xml --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre> 2. \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a <pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n    @Value(\"${spring.security.oauth2.resourceserver.jwt.issuer-uri}\")\n    private String issuerUri;\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n            .cors(cors -&gt; cors.configurationSource(corsConfigurationSource()))\n            .csrf(csrf -&gt; csrf.disable())\n            .authorizeHttpRequests(auth -&gt; auth\n                .requestMatchers(\"/api/public/**\").permitAll()\n                .requestMatchers(\"/api/**\").authenticated()\n            )\n            .oauth2ResourceServer(oauth2 -&gt; oauth2\n                .jwt(jwt -&gt; jwt.decoder(jwtDecoder()))\n            );\n\n        return http.build();\n    }\n\n    @Bean\n    public JwtDecoder jwtDecoder() {\n        return JwtDecoders.fromIssuerLocation(issuerUri);\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowedOrigins(List.of(\"http://localhost:3000\"));\n        config.setAllowedMethods(List.of(\"GET\", \"POST\", \"PUT\", \"DELETE\"));\n        config.setAllowedHeaders(List.of(\"*\"));\n        config.setAllowCredentials(true);\n\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(\"/**\", config);\n        return source;\n    }\n}\n</code></pre> 3. API\u5b9f\u88c5 <pre><code>@RestController\n@RequestMapping(\"/api/users\")\npublic class UserController {\n\n    @GetMapping(\"/profile\")\n    public ResponseEntity&lt;UserProfile&gt; getProfile(\n        @AuthenticationPrincipal Jwt jwt\n    ) {\n        String userId = jwt.getSubject();\n        String email = jwt.getClaimAsString(\"email\");\n\n        UserProfile profile = new UserProfile(userId, email);\n        return ResponseEntity.ok(profile);\n    }\n}\n</code></pre> 4. \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb <pre><code># application.yml\nspring:\n  security:\n    oauth2:\n      resourceserver:\n        jwt:\n          issuer-uri: https://cognito-idp.ap-northeast-1.amazonaws.com/ap-northeast-1_xxxxx\n          jwk-set-uri: https://cognito-idp.ap-northeast-1.amazonaws.com/ap-northeast-1_xxxxx/.well-known/jwks.json\n</code></pre>"},{"location":"auth/implementation/#_5","title":"\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u5bfe\u7b56","text":"Cookie \u8a2d\u5b9a <pre><code>// Next.js\nSet-Cookie: session_id=xxx;\n  HttpOnly;         // XSS\u5bfe\u7b56\n  Secure;           // HTTPS\u5fc5\u9808\n  SameSite=Strict;  // CSRF\u5bfe\u7b56\n  Path=/;\n  Max-Age=2592000   // 30\u65e5\n</code></pre> CSP \u8a2d\u5b9a <pre><code>// next.config.js\nconst securityHeaders = [\n  {\n    key: 'Content-Security-Policy',\n    value: \"default-src 'self'; script-src 'self' 'unsafe-inline';\"\n  },\n  {\n    key: 'X-Frame-Options',\n    value: 'DENY'\n  },\n  {\n    key: 'X-Content-Type-Options',\n    value: 'nosniff'\n  }\n];\n</code></pre> \u30c8\u30fc\u30af\u30f3\u4fdd\u7ba1\u5834\u6240 \u5834\u6240 \u7528\u9014 \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 Next.js \u30b5\u30fc\u30d0\u30fc \u5168\u30c8\u30fc\u30af\u30f3 \u2705 \u6700\u3082\u5b89\u5168 HttpOnly Cookie \u30bb\u30c3\u30b7\u30e7\u30f3ID \u2705 \u5b89\u5168 LocalStorage \u306a\u3057 \u274c \u4f7f\u7528\u7981\u6b62 \u8105\u5a01\u3068\u5bfe\u7b56 \u8105\u5a01 \u5bfe\u7b56 \u5b9f\u88c5 XSS HttpOnly Cookie\u3001CSP \ud83d\udd34 \u5fc5\u9808 CSRF SameSite=Strict\u3001state \ud83d\udd34 \u5fc5\u9808 \u30c8\u30fc\u30af\u30f3\u7a83\u53d6 \u77ed\u5bff\u547d(1\u6642\u9593)\u3001HTTPS \ud83d\udd34 \u5fc5\u9808 \u30d5\u30a3\u30c3\u30b7\u30f3\u30b0 WebAuthn/\u30d1\u30b9\u30ad\u30fc \ud83d\udfe1 \u63a8\u5968"},{"location":"auth/implementation/#_6","title":"\u30c1\u30a7\u30c3\u30af\u30ea\u30b9\u30c8","text":"AWS Cognito <ul> <li> \u30e6\u30fc\u30b6\u30fc\u30d7\u30fc\u30eb\u4f5c\u6210</li> <li> \u30a2\u30d7\u30ea\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u8a2d\u5b9a(Authorization Code + PKCE)</li> <li> \u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u8a2d\u5b9a(1\u6642\u9593/30\u65e5)</li> <li> \u30b3\u30fc\u30eb\u30d0\u30c3\u30afURL\u767b\u9332</li> <li> MFA\u6709\u52b9\u5316(\u63a8\u5968)</li> </ul> Next.js <ul> <li> NextAuth \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30fb\u8a2d\u5b9a</li> <li> \u74b0\u5883\u5909\u6570\u8a2d\u5b9a</li> <li> API \u30d7\u30ed\u30ad\u30b7\u5b9f\u88c5</li> <li> Cookie \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u8a2d\u5b9a</li> <li> CSP \u30d8\u30c3\u30c0\u30fc\u8a2d\u5b9a</li> </ul> Spring Boot <ul> <li> OAuth2 Resource Server \u8a2d\u5b9a</li> <li> JWT Decoder \u8a2d\u5b9a</li> <li> CORS \u8a2d\u5b9a</li> <li> API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u5b9f\u88c5</li> </ul> \u30bb\u30ad\u30e5\u30ea\u30c6\u30a3 <ul> <li> HTTPS \u6709\u52b9\u5316</li> <li> HttpOnly Cookie \u4f7f\u7528</li> <li> SameSite=Strict \u8a2d\u5b9a</li> <li> CSP \u8a2d\u5b9a</li> <li> \u30c8\u30fc\u30af\u30f3\u6709\u52b9\u671f\u9650\u78ba\u8a8d</li> </ul>"},{"location":"auth/implementation/#_7","title":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","text":"401 Unauthorized <pre><code># \u30c8\u30fc\u30af\u30f3\u691c\u8a3c\u5931\u6557\n- issuer-uri \u304c\u6b63\u3057\u3044\u304b\u78ba\u8a8d\n- \u30c8\u30fc\u30af\u30f3\u306e\u6709\u52b9\u671f\u9650\u3092\u78ba\u8a8d\n- JWKS URI \u306b\u30a2\u30af\u30bb\u30b9\u53ef\u80fd\u304b\u78ba\u8a8d\n</code></pre> CORS \u30a8\u30e9\u30fc <pre><code># Next.js \u3068 Spring Boot \u306e\u8a2d\u5b9a\u78ba\u8a8d\n- Spring Boot: allowedOrigins \u306b Next.js URL\n- allowCredentials: true\n</code></pre> \u30c8\u30fc\u30af\u30f3\u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u5931\u6557 <pre><code># \u30ea\u30d5\u30ec\u30c3\u30b7\u30e5\u30c8\u30fc\u30af\u30f3\u306e\u78ba\u8a8d\n- \u6709\u52b9\u671f\u9650\u5185\u304b\n- Cognito \u3067\u30ed\u30fc\u30c6\u30fc\u30b7\u30e7\u30f3\u8a2d\u5b9a\u78ba\u8a8d\n</code></pre>"},{"location":"auth/implementation/#_8","title":"\u6b21\u306e\u30b9\u30c6\u30c3\u30d7","text":"<p>\u3053\u306e\u5b9f\u88c5\u30ac\u30a4\u30c9\u3067\u3001Next.js + Spring Boot + Cognito \u3092\u4f7f\u3063\u305f\u8a8d\u8a3c\u6a5f\u80fd\u306e\u5b9f\u88c5\u65b9\u6cd5\u3092\u5b66\u3073\u307e\u3057\u305f\u3002\u3055\u3089\u306b\u7406\u89e3\u3092\u6df1\u3081\u308b\u306b\u306f\u3001\u57fa\u790e\u77e5\u8b58 \u306b\u623b\u3063\u3066\u6982\u5ff5\u3092\u518d\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3092\u304a\u52e7\u3081\u3057\u307e\u3059\u3002</p> <p>\u6700\u7d42\u66f4\u65b0: 2025\u5e7410\u6708 \u5bfe\u8c61\u8aad\u8005: \u8a8d\u8a3c\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u958b\u767a\u8005(\u4e2d\u7d1a)</p>"},{"location":"web-basics/","title":"Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u57fa\u790e","text":"<p>\ud83c\udfaf \u3053\u306e\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u306e\u76ee\u7684 Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u4ed5\u7d44\u307f\u3092\u3001\u30d6\u30e9\u30a6\u30b6\u3068\u30b5\u30fc\u30d0\u30fc\u306e\u901a\u4fe1\u304b\u3089\u7406\u89e3\u3057\u307e\u3059\u3002\u300c\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u300d\u300c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u300d\u3068\u3044\u3063\u305f\u7528\u8a9e\u306e\u610f\u5473\u3068\u3001\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3\u306e\u9055\u3044\u3092\u5b66\u3079\u307e\u3059\u3002</p>"},{"location":"web-basics/#_1","title":"\u30d6\u30e9\u30a6\u30b6\u3068\u30b5\u30fc\u30d0\u30fc\u306e\u57fa\u672c\u7684\u306a\u901a\u4fe1","text":""},{"location":"web-basics/#web_1","title":"Web\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u308b\u4ed5\u7d44\u307f","text":"1. \u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306bURL\u3092\u5165\u529b <p>\u30d6\u30e9\u30a6\u30b6\u306e\u30a2\u30c9\u30ec\u30b9\u30d0\u30fc\u306b <code>https://example.com</code> \u3068\u5165\u529b\u3057\u3066Enter\u3092\u62bc\u3059\u3068\u3001\u4ee5\u4e0b\u306e\u6d41\u308c\u3067Web\u30da\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant Server as \ud83d\udda5\ufe0f Web\u30b5\u30fc\u30d0\u30fc\n\n    Browser-&gt;&gt;Server: 1. HTTP\u30ea\u30af\u30a8\u30b9\u30c8&lt;br/&gt;GET https://example.com\n    Server-&gt;&gt;Browser: 2. \u30ec\u30b9\u30dd\u30f3\u30b9&lt;br/&gt;HTML + CSS + JavaScript\n    Browser-&gt;&gt;Browser: 3. HTML\u89e3\u6790\u30fb\u753b\u9762\u63cf\u753b\n    Browser-&gt;&gt;Browser: 4. CSS\u9069\u7528\uff08\u30b9\u30bf\u30a4\u30eb\uff09\n    Browser-&gt;&gt;Browser: 5. JavaScript\u5b9f\u884c\uff08\u52d5\u4f5c\uff09</code></pre> <p>\u30b5\u30fc\u30d0\u30fc\u304c\u8fd4\u3059\u3082\u306e:</p> <ul> <li>HTML: \u30da\u30fc\u30b8\u306e\u69cb\u9020\uff08\u898b\u51fa\u3057\u3001\u6bb5\u843d\u3001\u30dc\u30bf\u30f3\u7b49\uff09</li> <li>CSS: \u30da\u30fc\u30b8\u306e\u898b\u305f\u76ee\uff08\u8272\u3001\u30ec\u30a4\u30a2\u30a6\u30c8\u3001\u30d5\u30a9\u30f3\u30c8\u7b49\uff09</li> <li>JavaScript: \u30da\u30fc\u30b8\u306e\u52d5\u4f5c\uff08\u30af\u30ea\u30c3\u30af\u6642\u306e\u51e6\u7406\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7b49\uff09</li> </ul> <p>\u30d6\u30e9\u30a6\u30b6\u304c\u3084\u308b\u3053\u3068:</p> <ul> <li>HTML\u3092\u89e3\u6790\u3057\u3066\u30da\u30fc\u30b8\u69cb\u9020\u3092\u7406\u89e3</li> <li>CSS\u3092\u9069\u7528\u3057\u3066\u30c7\u30b6\u30a4\u30f3\u3092\u9069\u7528</li> <li>JavaScript\u3092\u5b9f\u884c\u3057\u3066\u52d5\u7684\u306a\u52d5\u4f5c\u3092\u8ffd\u52a0</li> </ul> 2. \u691c\u7d22\u30dc\u30bf\u30f3\u3092\u62bc\u3059 <p>Web\u30da\u30fc\u30b8\u3067\u691c\u7d22\u30dc\u30bf\u30f3\u3092\u62bc\u3059\u3068\u3001\u30b5\u30fc\u30d0\u30fc\u306b\u30ea\u30af\u30a8\u30b9\u30c8\u304c\u9001\u3089\u308c\u3001\u7d50\u679c\u304c\u8fd4\u3063\u3066\u304d\u307e\u3059\u3002</p> <pre><code>sequenceDiagram\n    participant User as \ud83d\udc64 \u30e6\u30fc\u30b6\u30fc\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant Server as \ud83d\udda5\ufe0f Web\u30b5\u30fc\u30d0\u30fc\n\n    User-&gt;&gt;Browser: 1. \u691c\u7d22\u30ef\u30fc\u30c9\u5165\u529b&lt;br/&gt;\u300c\u732b\u300d\n    User-&gt;&gt;Browser: 2. \u691c\u7d22\u30dc\u30bf\u30f3\u62bc\u4e0b\n    Browser-&gt;&gt;Server: 3. HTTP\u30ea\u30af\u30a8\u30b9\u30c8&lt;br/&gt;GET /search?q=\u732b\n    Server-&gt;&gt;Server: 4. \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u691c\u7d22\n    Server-&gt;&gt;Browser: 5. \u30ec\u30b9\u30dd\u30f3\u30b9&lt;br/&gt;\u691c\u7d22\u7d50\u679c\u30c7\u30fc\u30bf\n    Browser-&gt;&gt;Browser: 6. \u753b\u9762\u306b\u691c\u7d22\u7d50\u679c\u3092\u8868\u793a</code></pre> <p>\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u7a2e\u985e:</p> \u30e1\u30bd\u30c3\u30c9 \u7528\u9014 \u4f8b GET \u30c7\u30fc\u30bf\u53d6\u5f97 \u691c\u7d22\u3001\u30da\u30fc\u30b8\u8868\u793a POST \u30c7\u30fc\u30bf\u9001\u4fe1 \u30ed\u30b0\u30a4\u30f3\u3001\u6295\u7a3f PUT \u30c7\u30fc\u30bf\u66f4\u65b0 \u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u7de8\u96c6 DELETE \u30c7\u30fc\u30bf\u524a\u9664 \u6295\u7a3f\u524a\u9664"},{"location":"web-basics/#_2","title":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3068\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9","text":"\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\uff08\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff09 <p>\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406</p> <pre><code>graph LR\n    Browser[\ud83c\udf10 \u30d6\u30e9\u30a6\u30b6&lt;br/&gt;\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9] --&gt;|\u5b9f\u884c| HTML[\ud83d\udcc4 HTML&lt;br/&gt;\u69cb\u9020]\n    Browser --&gt;|\u9069\u7528| CSS[\ud83c\udfa8 CSS&lt;br/&gt;\u898b\u305f\u76ee]\n    Browser --&gt;|\u5b9f\u884c| JS[\u2699\ufe0f JavaScript&lt;br/&gt;\u52d5\u4f5c]</code></pre> <p>\u4e3b\u306a\u5f79\u5272:</p> <ul> <li>\u2705 \u30e6\u30fc\u30b6\u30fc\u306b\u753b\u9762\u3092\u8868\u793a</li> <li>\u2705 \u30e6\u30fc\u30b6\u30fc\u306e\u64cd\u4f5c\u3092\u53d7\u3051\u4ed8\u3051\u308b</li> <li>\u2705 \u52d5\u7684\u306a\u753b\u9762\u66f4\u65b0\uff08\u30dc\u30bf\u30f3\u30af\u30ea\u30c3\u30af\u3001\u30a2\u30cb\u30e1\u30fc\u30b7\u30e7\u30f3\u7b49\uff09</li> <li>\u2705 \u30b5\u30fc\u30d0\u30fc\u3078\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u9001\u4fe1</li> </ul> <p>\u5b9f\u884c\u5834\u6240: \u30e6\u30fc\u30b6\u30fc\u306ePC\u30fb\u30b9\u30de\u30db\u4e0a\u306e\u30d6\u30e9\u30a6\u30b6</p> <p>\u6280\u8853\u4f8b:</p> <ul> <li>HTML, CSS, JavaScript</li> <li>React, Vue.js, Angular\uff08\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\uff09</li> </ul> \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\uff08\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff09 <p>\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406</p> <pre><code>graph LR\n    Server[\ud83d\udda5\ufe0f Web\u30b5\u30fc\u30d0\u30fc&lt;br/&gt;\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9] --&gt;|\u51e6\u7406| Logic[\u2699\ufe0f \u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af&lt;br/&gt;\u691c\u7d22\u30fb\u8a08\u7b97]\n    Server --&gt;|\u30a2\u30af\u30bb\u30b9| DB[(\ud83d\uddc4\ufe0f \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9&lt;br/&gt;\u30c7\u30fc\u30bf\u4fdd\u5b58)]\n    Server --&gt;|\u751f\u6210| Response[\ud83d\udce6 \u30ec\u30b9\u30dd\u30f3\u30b9&lt;br/&gt;HTML/JSON]</code></pre> <p>\u4e3b\u306a\u5f79\u5272:</p> <ul> <li>\u2705 \u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u5b9f\u884c\uff08\u691c\u7d22\u3001\u8a08\u7b97\u3001\u5224\u5b9a\u7b49\uff09</li> <li>\u2705 \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\u30a2\u30af\u30bb\u30b9</li> <li>\u2705 \u8a8d\u8a3c\u30fb\u8a8d\u53ef\u51e6\u7406</li> <li>\u2705 HTML\u3084\u30c7\u30fc\u30bf\uff08JSON\uff09\u3092\u751f\u6210\u3057\u3066\u30d6\u30e9\u30a6\u30b6\u306b\u8fd4\u3059</li> </ul> <p>\u5b9f\u884c\u5834\u6240: \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u30b5\u30fc\u30d0\u30fc</p> <p>\u6280\u8853\u4f8b:</p> <ul> <li>Node.js, Python, Java, Ruby, PHP\u7b49</li> <li>\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af: Express, Django, Spring Boot, Rails\u7b49</li> </ul>"},{"location":"web-basics/#web_2","title":"Web\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u306e\u69cb\u6210\u30d1\u30bf\u30fc\u30f3","text":""},{"location":"web-basics/#1","title":"\u30d1\u30bf\u30fc\u30f31: \u30e2\u30ce\u30ea\u30b7\u30c3\u30af\u69cb\u6210\uff08\u7d71\u5408\u578b\uff09","text":"\u30d5\u30ed\u30f3\u30c8\u3068\u30d0\u30c3\u30af\u304c\u540c\u3058\u30b5\u30fc\u30d0\u30fc <p>HTML\u3092\u751f\u6210\u3059\u308b\u30b5\u30fc\u30d0\u30fc\u3068API\u30b5\u30fc\u30d0\u30fc\u304c\u540c\u4e00</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant Server as \ud83d\udda5\ufe0f \u7d71\u5408Web\u30b5\u30fc\u30d0\u30fc&lt;br/&gt;(\u30d5\u30ed\u30f3\u30c8+\u30d0\u30c3\u30af)\n    participant DB as \ud83d\uddc4\ufe0f \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n    Browser-&gt;&gt;Server: 1. \u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8&lt;br/&gt;GET /search?q=\u732b\n    Server-&gt;&gt;DB: 2. \u30c7\u30fc\u30bf\u691c\u7d22\n    DB-&gt;&gt;Server: 3. \u691c\u7d22\u7d50\u679c\n    Server-&gt;&gt;Server: 4. HTML\u3092\u751f\u6210&lt;br/&gt;(\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0)\n    Server-&gt;&gt;Browser: 5. \u5b8c\u6210\u3057\u305fHTML\u8fd4\u5374\n    Browser-&gt;&gt;Browser: 6. \u753b\u9762\u8868\u793a</code></pre> <p>\u7279\u5fb4:</p> <ul> <li>\ud83d\udce6 1\u3064\u306e\u30b5\u30fc\u30d0\u30fc \u3067\u5168\u3066\u51e6\u7406</li> <li>\ud83c\udfd7\ufe0f \u30b5\u30fc\u30d0\u30fc\u304c HTML\u3092\u751f\u6210 \u3057\u3066\u8fd4\u3059\uff08SSR: Server-Side Rendering\uff09</li> <li>\ud83d\udd04 \u30da\u30fc\u30b8\u9077\u79fb\u6642\u306b \u5168\u4f53\u3092\u518d\u8aad\u307f\u8fbc\u307f</li> </ul> <p>\u547c\u3073\u65b9:</p> <ul> <li>\u30e2\u30ce\u30ea\u30b7\u30c3\u30af\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3</li> <li>\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\uff08SSR\uff09</li> <li>\u5f93\u6765\u578bWeb\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3</li> </ul> <p>\u6280\u8853\u4f8b:</p> <p>\u5f93\u6765\u578b\uff08\u5178\u578b\u7684\u306a\u30e2\u30ce\u30ea\u30b7\u30c3\u30af\uff09:</p> <ul> <li>Ruby on Rails</li> <li>Django\uff08Python\uff09</li> <li>Laravel\uff08PHP\uff09</li> <li>Spring Boot + Thymeleaf\uff08Java\uff09</li> <li>ASP.NET MVC\uff08.NET\uff09</li> </ul> <p>\u30e2\u30c0\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\uff08SSR\u30e2\u30fc\u30c9\u4f7f\u7528\u6642\uff09:</p> <ul> <li>Next.js\uff08React\uff09- SSR\u30e2\u30fc\u30c9</li> <li>Nuxt.js\uff08Vue\uff09- SSR\u30e2\u30fc\u30c9</li> <li>Remix\uff08React\uff09</li> </ul> <p>\u30e2\u30c0\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306eSSR\u30e2\u30fc\u30c9</p> <p>Next.js\u7b49\u306e\u30e2\u30c0\u30f3\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3082\u3001\u7d14\u7c8b\u306aSSR\u30e2\u30fc\u30c9\uff08<code>getServerSideProps</code>\u306e\u307f\u4f7f\u7528\uff09\u3067\u69cb\u7bc9\u3059\u308c\u3070\u3001\u30d1\u30bf\u30fc\u30f31\u306b\u8a72\u5f53\u3057\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u5b9f\u969b\u306b\u306fAPI Routes\u3084\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u306e\u6a5f\u80fd\u3092\u4f75\u7528\u3059\u308b\u3053\u3068\u304c\u591a\u3044\u305f\u3081\u3001 \u30d1\u30bf\u30fc\u30f33\uff08\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\uff09\u3068\u3057\u3066\u4f7f\u308f\u308c\u308b\u3053\u3068\u304c\u307b\u3068\u3093\u3069 \u3067\u3059\u3002</p> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u69cb\u6210\u304c\u30b7\u30f3\u30d7\u30eb</li> <li>\u2705 SEO\u5bfe\u7b56\u304c\u5bb9\u6613\uff08HTML\u304c\u5b8c\u6210\u3057\u3066\u3044\u308b\uff09</li> <li>\u2705 \u521d\u56de\u8868\u793a\u304c\u901f\u3044</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c \u30da\u30fc\u30b8\u9077\u79fb\u6642\u306b\u5168\u4f53\u518d\u8aad\u307f\u8fbc\u307f</li> <li>\u274c \u30b5\u30fc\u30d0\u30fc\u8ca0\u8377\u304c\u9ad8\u3044\uff08\u6bce\u56deHTML\u751f\u6210\uff09</li> </ul>"},{"location":"web-basics/#2-spa-api","title":"\u30d1\u30bf\u30fc\u30f32: \u5206\u96e2\u578b\u69cb\u6210\uff08SPA + API\uff09","text":"\u30d5\u30ed\u30f3\u30c8\u3068\u30d0\u30c3\u30af\u304c\u5225\u306e\u30b5\u30fc\u30d0\u30fc <p>\u9759\u7684HTML\u3092\u914d\u4fe1\u3059\u308b\u30b5\u30fc\u30d0\u30fc\u3068API\u30b5\u30fc\u30d0\u30fc\u304c\u5225</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6&lt;br/&gt;(SPA)\n    participant CDN as \ud83d\udce6 \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc&lt;br/&gt;(CDN/S3)\n    participant API as \ud83d\udd0c API\u30b5\u30fc\u30d0\u30fc&lt;br/&gt;(\u30d0\u30c3\u30af\u30a8\u30f3\u30c9)\n    participant DB as \ud83d\uddc4\ufe0f \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n    Note over Browser,CDN: \u521d\u56de\u30a2\u30af\u30bb\u30b9\n    Browser-&gt;&gt;CDN: 1. \u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8\n    CDN-&gt;&gt;Browser: 2. \u9759\u7684\u30d5\u30a1\u30a4\u30eb&lt;br/&gt;(HTML+CSS+JS)\n    Browser-&gt;&gt;Browser: 3. JavaScript\u30a2\u30d7\u30ea\u8d77\u52d5\n\n    Note over Browser,DB: \u30c7\u30fc\u30bf\u53d6\u5f97\n    Browser-&gt;&gt;API: 4. API\u30ea\u30af\u30a8\u30b9\u30c8&lt;br/&gt;GET /api/search?q=\u732b\n    API-&gt;&gt;DB: 5. \u30c7\u30fc\u30bf\u691c\u7d22\n    DB-&gt;&gt;API: 6. \u691c\u7d22\u7d50\u679c\n    API-&gt;&gt;Browser: 7. JSON\u8fd4\u5374\n    Browser-&gt;&gt;Browser: 8. JavaScript\u3067\u753b\u9762\u66f4\u65b0</code></pre> <p>\u7279\u5fb4:</p> <ul> <li>\ud83d\udd00 2\u3064\u306e\u30b5\u30fc\u30d0\u30fc \u3067\u5f79\u5272\u5206\u62c5</li> <li>\ud83d\udcc4 \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u30b5\u30fc\u30d0\u30fc: HTML/CSS/JavaScript\u3092\u914d\u4fe1\uff08CDN\uff09</li> <li>\ud83d\udd0c API\u30b5\u30fc\u30d0\u30fc: \u30c7\u30fc\u30bf\u51e6\u7406\u30fbDB\u64cd\u4f5c\uff08JSON\u8fd4\u5374\uff09</li> <li>\u26a1 \u30da\u30fc\u30b8\u9077\u79fb\u6642\u3082 \u90e8\u5206\u7684\u306a\u66f4\u65b0\u306e\u307f\uff08\u9ad8\u901f\uff09</li> </ul> <p>\u547c\u3073\u65b9:</p> <ul> <li>SPA\uff08Single Page Application\uff09</li> <li>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u30fb\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5206\u96e2</li> <li>API\u99c6\u52d5\u30a2\u30fc\u30ad\u30c6\u30af\u30c1\u30e3</li> <li>JAMstack\uff08\u9759\u7684\u30b5\u30a4\u30c8 + API\uff09</li> </ul> <p>\u6280\u8853\u4f8b:</p> <ul> <li> <p>\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\uff08\u9759\u7684\u914d\u4fe1\uff09:</p> <ul> <li>React + Vercel/Netlify</li> <li>Vue.js + Cloudflare Pages</li> <li>Angular + AWS S3 + CloudFront</li> </ul> </li> <li> <p>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\uff08API\uff09:</p> <ul> <li>Node.js (Express, Fastify)</li> <li>Python (FastAPI, Django REST Framework)</li> <li>Java (Spring Boot)</li> <li>Go (Gin, Echo)</li> </ul> </li> </ul> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u30d5\u30ed\u30f3\u30c8\u3068\u30d0\u30c3\u30af\u3092\u72ec\u7acb\u958b\u767a\u53ef\u80fd</li> <li>\u2705 \u30da\u30fc\u30b8\u9077\u79fb\u304c\u9ad8\u901f\uff08\u90e8\u5206\u66f4\u65b0\u306e\u307f\uff09</li> <li>\u2705 \u9759\u7684\u30d5\u30a1\u30a4\u30eb\u306fCDN\u3067\u9ad8\u901f\u914d\u4fe1</li> <li>\u2705 \u8907\u6570\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5bfe\u5fdc\uff08Web\u3001Mobile\u3001\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\uff09</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u274c \u69cb\u6210\u304c\u8907\u96d1</li> <li>\u274c \u521d\u56de\u8868\u793a\u304c\u9045\u3044\uff08JavaScript\u306e\u8aad\u307f\u8fbc\u307f\u30fb\u5b9f\u884c\u304c\u5fc5\u8981\uff09</li> <li>\u274c SEO\u5bfe\u7b56\u306b\u5de5\u592b\u304c\u5fc5\u8981</li> </ul>"},{"location":"web-basics/#3-bff","title":"\u30d1\u30bf\u30fc\u30f33: \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u69cb\u6210\uff08BFF\u30d1\u30bf\u30fc\u30f3\uff09","text":"Next.js/Nuxt.js\u3092BFF\u3068\u3057\u3066\u6d3b\u7528 <p>SSR\u3068SPA\u306e\u826f\u3044\u3068\u3053\u53d6\u308a + \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u5206\u96e2</p> <pre><code>sequenceDiagram\n    participant Browser as \ud83c\udf10 \u30d6\u30e9\u30a6\u30b6\n    participant BFF as \u26a1 Next.js&lt;br/&gt;(BFF)\n    participant API as \ud83d\udd0c \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API&lt;br/&gt;(Spring Boot\u7b49)\n    participant DB as \ud83d\uddc4\ufe0f \u30c7\u30fc\u30bf\u30d9\u30fc\u30b9\n\n    Note over Browser,BFF: \u521d\u56de\u30a2\u30af\u30bb\u30b9\uff08SSR\uff09\n    Browser-&gt;&gt;BFF: 1. \u30da\u30fc\u30b8\u30ea\u30af\u30a8\u30b9\u30c8\n    BFF-&gt;&gt;API: 2. \u30c7\u30fc\u30bf\u53d6\u5f97API\u547c\u3073\u51fa\u3057\n    API-&gt;&gt;DB: 3. DB\u691c\u7d22\n    DB-&gt;&gt;API: 4. \u30c7\u30fc\u30bf\u8fd4\u5374\n    API-&gt;&gt;BFF: 5. JSON\u8fd4\u5374\n    BFF-&gt;&gt;BFF: 6. HTML\u3092\u751f\u6210\uff08SSR\uff09\n    BFF-&gt;&gt;Browser: 7. \u5b8c\u6210\u3057\u305fHTML\u8fd4\u5374\n\n    Note over Browser,DB: \u4ee5\u964d\u306e\u30da\u30fc\u30b8\u9077\u79fb\uff08SPA\uff09\n    Browser-&gt;&gt;BFF: 8. API Route\u547c\u3073\u51fa\u3057&lt;br/&gt;/api/search\n    BFF-&gt;&gt;API: 9. \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3078\u4e2d\u7d99\n    API-&gt;&gt;DB: 10. DB\u691c\u7d22\n    DB-&gt;&gt;API: 11. \u30c7\u30fc\u30bf\u8fd4\u5374\n    API-&gt;&gt;BFF: 12. JSON\u8fd4\u5374\n    BFF-&gt;&gt;Browser: 13. JSON\u8fd4\u5374\n    Browser-&gt;&gt;Browser: 14. JavaScript\u3067\u753b\u9762\u66f4\u65b0</code></pre> <p>\u7279\u5fb4:</p> <ul> <li>\ud83c\udfaf \u521d\u56de\u8868\u793a\u306fSSR \uff08\u9ad8\u901f\u30fbSEO\u5bfe\u7b56\uff09</li> <li>\u26a1 \u4ee5\u964d\u306fSPA\u52d5\u4f5c \uff08\u90e8\u5206\u66f4\u65b0\u30fb\u9ad8\u901f\u9077\u79fb\uff09</li> <li>\ud83d\udd00 Next.js\u304cBFF\uff08Backend For Frontend\uff09\u3068\u3057\u3066\u6a5f\u80fd</li> <li>\ud83d\udd0c \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306f\u5225\u30b5\u30fc\u30d0\u30fc \uff08\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u5bfe\u5fdc\uff09</li> <li>\ud83d\udd10 BFF\u3067\u8a8d\u8a3c\u30fb\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406</li> </ul> <p>BFF\uff08Backend For Frontend\uff09\u306e\u5f79\u5272:</p> <ul> <li>\u2705 \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u30ec\u30f3\u30c0\u30ea\u30f3\u30b0\uff08SSR\uff09</li> <li>\u2705 API Routes\u3067\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3078\u306e\u4e2d\u7d99</li> <li>\u2705 \u8a8d\u8a3c\u30fb\u30bb\u30c3\u30b7\u30e7\u30f3\u7ba1\u7406</li> <li>\u2705 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u306e\u96c6\u7d04\u30fb\u5909\u63db</li> <li>\u2705 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5411\u3051\u306e\u6700\u9069\u5316</li> </ul> <p>\u6280\u8853\u4f8b:</p> <ul> <li> <p>\u30d5\u30ed\u30f3\u30c8+BFF:</p> <ul> <li>Next.js\uff08React\uff09+ API Routes</li> <li>Nuxt.js\uff08Vue\uff09+ Server Routes</li> <li>SvelteKit\uff08Svelte\uff09+ Server Endpoints</li> </ul> </li> <li> <p>\u30d0\u30c3\u30af\u30a8\u30f3\u30c9API:</p> <ul> <li>Spring Boot\uff08Java\uff09</li> <li>FastAPI\uff08Python\uff09</li> <li>Express/Fastify\uff08Node.js\uff09</li> <li>Go\uff08Gin, Echo\uff09</li> </ul> </li> </ul> <p>\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u2705 \u521d\u56de\u8868\u793a\u304c\u901f\u3044\uff08SSR\uff09</li> <li>\u2705 \u30da\u30fc\u30b8\u9077\u79fb\u304c\u9ad8\u901f\uff08SPA\uff09</li> <li>\u2705 \u30d5\u30ed\u30f3\u30c8\u3068\u30d0\u30c3\u30af\u306e\u5206\u96e2\uff08\u72ec\u7acb\u958b\u767a\u53ef\u80fd\uff09</li> <li>\u2705 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9API\u3092\u8907\u6570\u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9\u5316\u53ef\u80fd</li> <li>\u2705 BFF\u3067\u30d5\u30ed\u30f3\u30c8\u7279\u5316\u306e\u51e6\u7406\u3092\u5b9f\u88c5</li> </ul> <p>\u30c7\u30e1\u30ea\u30c3\u30c8:</p> <ul> <li>\u26a0\ufe0f \u69cb\u6210\u304c\u8907\u96d1\uff083\u5c64\u69cb\u9020\uff09</li> <li>\u26a0\ufe0f BFF\u3068\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u306e\u5f79\u5272\u5206\u62c5\u304c\u5fc5\u8981</li> </ul>"},{"location":"web-basics/#_3","title":"\u69cb\u6210\u30d1\u30bf\u30fc\u30f3\u306e\u6bd4\u8f03\u8868","text":"\u3069\u306e\u69cb\u6210\u3092\u9078\u3076\u3079\u304d\u304b \u9805\u76ee \u30e2\u30ce\u30ea\u30b7\u30c3\u30af(\u7d71\u5408\u578b) \u5206\u96e2\u578b(SPA + API) \u30cf\u30a4\u30d6\u30ea\u30c3\u30c9(BFF\u30d1\u30bf\u30fc\u30f3) \u30b5\u30fc\u30d0\u30fc\u6570 1\u3064 2\u3064\uff08\u9759\u7684+API\uff09 2\u3064\uff08BFF+API\uff09 HTML\u751f\u6210 \u30b5\u30fc\u30d0\u30fc \u30d6\u30e9\u30a6\u30b6(JS) \u30b5\u30fc\u30d0\u30fc\uff08\u521d\u56de\u306e\u307f\uff09 \u521d\u56de\u8868\u793a \u26a1 \u901f\u3044 \ud83d\udc0c \u9045\u3044 \u26a1 \u901f\u3044\uff08SSR\uff09 \u30da\u30fc\u30b8\u9077\u79fb \ud83d\udc0c \u9045\u3044\uff08\u5168\u4f53\u518d\u8aad\u307f\u8fbc\u307f\uff09 \u26a1 \u901f\u3044\uff08\u90e8\u5206\u66f4\u65b0\uff09 \u26a1 \u901f\u3044\uff08SPA\uff09 SEO \u2705 \u826f\u597d \u26a0\ufe0f \u8981\u5de5\u592b \u2705 \u826f\u597d\uff08SSR\uff09 \u958b\u767a\u306e\u8907\u96d1\u3055 \u2705 \u30b7\u30f3\u30d7\u30eb \u274c \u8907\u96d1 \u274c \u8907\u96d1\uff083\u5c64\uff09 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5206\u96e2 \u274c \u7d71\u5408 \u2705 \u5b8c\u5168\u5206\u96e2 \u2705 \u5b8c\u5168\u5206\u96e2 \u8a8d\u8a3c\u7ba1\u7406 \u30b5\u30fc\u30d0\u30fc \u30d6\u30e9\u30a6\u30b6+API BFF \u9069\u7528\u4f8b \u793e\u5185\u30b7\u30b9\u30c6\u30e0\u7ba1\u7406\u753b\u9762\u30d6\u30ed\u30b0 \u30e2\u30c0\u30f3Web\u30a2\u30d7\u30eaSaaS\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9 EC\u30b5\u30a4\u30c8\u30dd\u30fc\u30bf\u30eb\u30b5\u30a4\u30c8\u30a8\u30f3\u30bf\u30fc\u30d7\u30e9\u30a4\u30ba"},{"location":"web-basics/#_4","title":"\u7528\u8a9e\u307e\u3068\u3081","text":"\u7528\u8a9e\u4e00\u89a7 \u7528\u8a9e \u8aac\u660e \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9 \u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406\uff08HTML/CSS/JavaScript\uff09 \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9 \u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u308b\u51e6\u7406\uff08\u30d3\u30b8\u30cd\u30b9\u30ed\u30b8\u30c3\u30af\u3001DB\u64cd\u4f5c\uff09 \u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9 \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u3068\u540c\u7fa9\uff08\u30e6\u30fc\u30b6\u30fc\u304c\u898b\u308b\u90e8\u5206\uff09 \u30d0\u30c3\u30af\u30a8\u30f3\u30c9 \u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u3068\u540c\u7fa9\uff08\u30c7\u30fc\u30bf\u51e6\u7406\u30fb\u30ed\u30b8\u30c3\u30af\uff09 BFF Backend For Frontend\uff08\u30d5\u30ed\u30f3\u30c8\u5c02\u7528\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u5c64\uff09 SSR Server-Side Rendering\uff08\u30b5\u30fc\u30d0\u30fc\u3067HTML\u751f\u6210\uff09 CSR Client-Side Rendering\uff08\u30d6\u30e9\u30a6\u30b6\u3067HTML\u751f\u6210\uff09 SPA Single Page Application\uff081\u3064\u306eHTML\u3067\u52d5\u7684\u306b\u5207\u308a\u66ff\u3048\uff09 \u30e2\u30ce\u30ea\u30b7\u30c3\u30af \u30d5\u30ed\u30f3\u30c8\u3068\u30d0\u30c3\u30af\u304c\u7d71\u5408\u3055\u308c\u305f\u69cb\u6210 \u30de\u30a4\u30af\u30ed\u30b5\u30fc\u30d3\u30b9 \u6a5f\u80fd\u3054\u3068\u306b\u30b5\u30fc\u30d3\u30b9\u3092\u5206\u5272\u3057\u305f\u69cb\u6210 API \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9593\u3067\u30c7\u30fc\u30bf\u3092\u3084\u308a\u53d6\u308a\u3059\u308b\u4ed5\u7d44\u307f JSON \u30c7\u30fc\u30bf\u4ea4\u63db\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\uff08API\u306e\u8fd4\u5374\u30c7\u30fc\u30bf\u7b49\uff09 <p>\u6700\u7d42\u66f4\u65b0: 2025\u5e7410\u6708 \u5bfe\u8c61\u8aad\u8005: Web\u958b\u767a\u521d\u5fc3\u8005\u3001\u300c\u30b5\u30fc\u30d0\u30fc\u30b5\u30a4\u30c9\u300d\u300c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30b5\u30a4\u30c9\u300d\u306e\u9055\u3044\u3092\u7406\u89e3\u3057\u305f\u3044\u65b9</p>"}]}